{"version":3,"sources":["redux/actions.tsx","redux/mode.tsx","redux/reducers.tsx","redux/region.tsx","svg.tsx","TwitterButton.tsx","chart-control.tsx","vx.tsx","AddCountry.tsx","x-axis.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["EReduxActionTypes","toggleScale","type","TOGGLE_SCALE","changeZoom","by","CHANGE_ZOOM","data","changeMode","to","CHANGE_MODE","addRegion","name","ADD_REGION","removeRegion","index","REMOVE_REGION","shiftRegion","SHIFT_REGION","EMode","ModeToAllCountryData","TotalCases","DailyCases","TotalDeaths","DailyDeaths","all","toString","mode","EScale","fromString","str","parts","split","length","country","offset","_offset","parseInt","defaultState","scale","Linear","zoom","regions","state","persistedState","Log","setRegions","push","splice","query","s","z","m","r","map","region","window","history","replaceState","qs","stringify","loadState","parse","location","search","Object","values","includes","Array","isArray","ChevronLeft","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","React","PureComponent","ChevronRight","ChevronsLeft","ChevronsRight","PlusSign","x1","y1","x2","y2","MinusSign","TrashSign","d","TwitterButton","useState","href","setUrl","useEffect","style","marginLeft","display","alignItems","className","data-show-count","ChartControl","props","bind","zoomIn","zoomOut","key","this","Dropdown","id","onSelect","Toggle","variant","Menu","Item","eventKey","aria-label","disabled","onClick","e","target","HTMLElement","dataset","data-key","renderModePicker","renderScaleToggle","connect","dispatch","bindActionCreators","y","value","VX","withTooltip","margin","top","right","bottom","left","showTooltip","hideTooltip","tooltipData","tooltipTop","tooltipLeft","width","height","dims","setDims","xMax","yMax","vxData","allCountryData","forEach","idx","n","countryData","filter","countryRow","dayToCases","_","fromPairs","cases","year","from","keys","date","point","color","tooltipShifter","sort","a","b","middle","Math","floor","i","handleTooltip","event","xValue","localPoint","x","round","xScale","invert","currentData","matchingPoint","find","yScale","scaleLinear","range","domain","DAYS_TO_SHOW","maxY","max","nice","scaleLog","common","curve","curveMonotoneX","bounds","onResize","measureRef","ref","AxisLeft","hideZero","numTicks","tickFormat","format","tickLabelProps","textAnchor","fontSize","dy","tickComponent","formattedValue","tickProps","Grid","opacity","numTicksRows","numTicksColumns","LinePath","Bar","onTouchStart","onTouchMove","onMouseEnter","onMouseMove","onMouseLeave","Line","pointerEvents","strokeDasharray","Tooltip","backgroundColor","boxShadow","dayjs","add","searchIndex","algoliasearch","initIndex","AddRegion","onSuccess","q","setQ","suggestions","setSuggestions","getSuggestions","hits","console","log","_suggestions","hit","slice","onChange","maxWidth","autoFocus","placeholder","suggestion","extend","dayOfYear","XAxis","enteringRegion","shiftRegionBack1","shiftRegionBack5","shiftRegionForward1","shiftRegionForward5","showNewRegionInput","dismissNewRegionInput","setState","day","cls","join","zero","transform","dayClass","dayString","buttonAttrs","renderDays","renderRegion","renderAddRegion","App","Boolean","hostname","match","ReactDOM","render","store","createStore","action","actions","SET_REGIONS","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.48893c6d.chunk.js","sourcesContent":["import { IRegion } from \"./region\";\n\nexport enum EReduxActionTypes {\n  TOGGLE_SCALE = \"toggle_scale\",\n  CHANGE_ZOOM = \"change_zoom\",\n  CHANGE_MODE = \"change_mode\",\n  SET_REGIONS = \"set_regions\",\n  ADD_REGION = \"add_region\",\n  REMOVE_REGION = \"remove_region\",\n  SHIFT_REGION = \"shift_region\"\n}\n\nexport interface IReduxBaseAction {\n  type: EReduxActionTypes;\n}\n\nexport interface IReduxToggleScaleAction extends IReduxBaseAction {\n  type: EReduxActionTypes.TOGGLE_SCALE;\n}\n\nexport function toggleScale(): IReduxToggleScaleAction {\n  return { type: EReduxActionTypes.TOGGLE_SCALE };\n}\n\nexport interface IReduxChangeZoomAction extends IReduxBaseAction {\n  type: EReduxActionTypes.CHANGE_ZOOM;\n  data: number;\n}\n\nexport function changeZoom(by: number): IReduxChangeZoomAction {\n  return { type: EReduxActionTypes.CHANGE_ZOOM, data: by };\n}\n\nexport interface IReduxChangeModeAction extends IReduxBaseAction {\n  type: EReduxActionTypes.CHANGE_MODE;\n  data: string;\n}\n\nexport function changeMode(to: string): IReduxChangeModeAction {\n  return { type: EReduxActionTypes.CHANGE_MODE, data: to };\n}\n\nexport interface IReduxSetRegionsAction extends IReduxBaseAction {\n  type: EReduxActionTypes.SET_REGIONS;\n  data: IRegion[];\n}\n\nexport function setRegions(regions: IRegion[]): IReduxSetRegionsAction {\n  return { type: EReduxActionTypes.SET_REGIONS, data: regions };\n}\n\nexport interface IReduxAddRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.ADD_REGION;\n  data: string;\n}\n\nexport function addRegion(name: string): IReduxAddRegionAction {\n  return { type: EReduxActionTypes.ADD_REGION, data: name };\n}\n\nexport interface IReduxRemoveRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.REMOVE_REGION;\n  data: number;\n}\n\nexport function removeRegion(index: number): IReduxRemoveRegionAction {\n  return { type: EReduxActionTypes.REMOVE_REGION, data: index };\n}\n\nexport interface IReduxShiftRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.SHIFT_REGION;\n  data: { index: number, by: number };\n}\n\nexport function shiftRegion(index: number, by: number): IReduxShiftRegionAction {\n  return { type: EReduxActionTypes.SHIFT_REGION, data: { index, by } };\n}\n\nexport type ReduxAction =\n  | IReduxToggleScaleAction\n  | IReduxChangeModeAction\n  | IReduxChangeZoomAction\n  | IReduxSetRegionsAction\n  | IReduxAddRegionAction\n  | IReduxRemoveRegionAction\n  | IReduxShiftRegionAction;\n","import TotalDeaths from \"../data/total-deaths-covid-19-who.json\";\nimport DailyDeaths from \"../data/daily-deaths-covid-19-who.json\";\nimport TotalCases from \"../data/total-cases-covid-19-who.json\";\nimport DailyCases from \"../data/daily-cases-covid-19-who.json\";\n\nexport enum EMode {\n  TotalCases = \"tc\",\n  DailyCases = \"dc\",\n  TotalDeaths = \"td\",\n  DailyDeaths = \"dd\"\n}\n\ntype DataRow = { country: string; code: string; year: number; cases: number };\nexport const ModeToAllCountryData: Record<EMode, DataRow[]> = {\n  [EMode.TotalCases]: TotalCases,\n  [EMode.DailyCases]: DailyCases,\n  [EMode.TotalDeaths]: TotalDeaths,\n  [EMode.DailyDeaths]: DailyDeaths\n};\n\nexport const all: EMode[] = [\n  EMode.TotalCases,\n  EMode.DailyCases,\n  EMode.TotalDeaths,\n  EMode.DailyDeaths\n];\n\nexport function toString(mode: EMode): string {\n  switch (mode) {\n    case EMode.TotalCases:\n      return \"Total Cases\";\n    case EMode.DailyCases:\n      return \"Daily Cases\";\n    case EMode.TotalDeaths:\n      return \"Total Deaths\";\n    case EMode.DailyDeaths:\n      return \"Daily Deaths\";\n  }\n}\n","import qs from \"query-string\";\n\nimport * as actions from \"./actions\";\nimport { ReduxAction } from \"./actions\";\nimport * as mode from \"./mode\";\nimport * as region from \"./region\";\nimport { IRegion } from \"./region\";\n\nexport enum EScale {\n  Linear = \"linear\",\n  Log = \"log\"\n}\n\nexport interface AppState {\n  scale: EScale;\n  zoom: number;\n  mode: mode.EMode;\n  regions: region.IRegion[];\n}\n\nconst defaultState: AppState = {\n  scale: EScale.Linear,\n  zoom: 3,\n  mode: mode.EMode.TotalCases,\n  regions: [\n    { country: \"United States\", offset: -38 },\n    { country: \"Italy\", offset: -27 },\n    { country: \"South Korea\", offset: -23 }\n  ]\n};\n\nexport default function(state: AppState = loadState(), action: ReduxAction) {\n  switch (action.type) {\n    case actions.EReduxActionTypes.TOGGLE_SCALE:\n      return toggleScale(state);\n    case actions.EReduxActionTypes.CHANGE_ZOOM:\n      return changeZoom(state, action.data);\n    case actions.EReduxActionTypes.CHANGE_MODE:\n      return changeMode(state, action.data);\n    case actions.EReduxActionTypes.SET_REGIONS:\n      return setRegions(state, action.data);\n    case actions.EReduxActionTypes.ADD_REGION:\n      return addRegion(state, action.data);\n    case actions.EReduxActionTypes.REMOVE_REGION:\n      return removeRegion(state, action.data);\n    case actions.EReduxActionTypes.SHIFT_REGION:\n      return shiftRegion(state, action.data.index, action.data.by);\n    default:\n      return state;\n  }\n}\n\nfunction toggleScale(state: AppState): AppState {\n  return persistedState({\n    ...state,\n    scale: state.scale === EScale.Linear ? EScale.Log : EScale.Linear\n  });\n}\n\nfunction changeZoom(state: AppState, data: number): AppState {\n  let zoom = state.zoom + data;\n  if (zoom > 5) {\n    zoom = 5;\n  } else if (zoom < 1) {\n    zoom = 1;\n  }\n  return persistedState({ ...state, zoom });\n}\n\nfunction changeMode(state: AppState, to: string): AppState {\n  return persistedState({ ...state, mode: to as mode.EMode });\n}\n\nfunction setRegions(state: AppState, regions: IRegion[]): AppState {\n  return persistedState({ ...state, regions });\n}\n\nfunction addRegion(state: AppState, name: string): AppState {\n  let regions = [...state.regions];\n  regions.push({ country: name, offset: 0 });\n  return persistedState({ ...state, regions });\n}\n\nfunction removeRegion(state: AppState, index: number): AppState {\n  let regions = [...state.regions];\n  regions.splice(index, 1);\n  return persistedState({ ...state, regions });\n}\n\nfunction shiftRegion(state: AppState, index: number, by: number): AppState {\n  let regions = [...state.regions];\n  regions[index] = { ...regions[index], offset: regions[index].offset + by };\n  return persistedState({ ...state, regions });\n}\n\nfunction persistedState(state: AppState): AppState {\n  let query = {\n    s: state.scale,\n    z: state.zoom,\n    m: state.mode,\n    r: state.regions.map(r => region.toString(r))\n  };\n  window.history.replaceState(null, \"\", \"?\" + qs.stringify(query));\n  return state;\n}\n\nfunction loadState(): AppState {\n  const query = qs.parse(window.location.search);\n  let state = { ...defaultState };\n\n  if (Object.values(EScale).includes(query.s as EScale)) {\n    state.scale = query.s as EScale;\n  }\n  if (Object.values(mode.EMode).includes(query.m as mode.EMode)) {\n    state.mode = query.m as mode.EMode;\n  }\n  if (Array.isArray(query.r)) {\n    state.regions = query.r.map(r => region.fromString(r));\n  } else if (query.r) {\n    state.regions = [region.fromString(query.r)];\n  }\n\n  return state;\n}\n","export interface IRegion {\n  country: string;\n  offset: number;\n}\n\nexport function toString(region: IRegion): string {\n  return `${region.country},${region.offset}`;\n}\n\nexport function fromString(str: string): IRegion {\n  let region = { country: \"United States\", offset: 0 };\n\n  const parts = str.split(\",\");\n  if (parts.length === 0) {\n    return region;\n  }\n\n  const [country, _offset] = parts;\n  return {\n    country,\n    offset: parseInt(_offset) || 0\n  };\n}\n","import React from \"react\";\n\nexport class ChevronLeft extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"15 18 9 12 15 6\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronRight extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"9 18 15 12 9 6\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronsLeft extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"11 17 6 12 11 7\"/>\n        <polyline points=\"18 17 13 12 18 7\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronsRight extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"13 17 18 12 13 7\"/>\n        <polyline points=\"6 17 11 12 6 7\"/>\n      </svg>\n    );\n  }\n}\n\nexport class PlusSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/>\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/>\n      </svg>\n    );\n  }\n}\n\nexport class MinusSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/>\n      </svg>\n    );\n  }\n}\n\nexport class TrashSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"3 6 5 6 21 6\"/>\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\n        <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"/>\n        <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"/>\n      </svg>\n    );\n  }\n}\n","import React, { useEffect, useState } from \"react\";\n\nexport const TwitterButton = () => {\n  const [url, setUrl] = useState(window[\"location\"].href);\n\n  useEffect(() => {\n    setUrl(window[\"location\"].href);\n  }, [window[\"location\"].href]);\n\n  return (\n    <div style={{\n      marginLeft: \"0.5rem\",\n      display: \"flex\",\n      alignItems: \"center\"\n    }}>\n      <a\n        style={{ display: \"none\" }}\n        href=\"https://twitter.com/share?ref_src=twsrc%5Etfw\"\n        className=\" twitter-share-button\"\n        data-show-count=\"false\"\n      >\n        Tweet\n      </a>\n    </div>\n  );\n};\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\n\nimport { changeMode, changeZoom, toggleScale } from \"./redux/actions\";\nimport * as mode from \"./redux/mode\";\nimport { AppState, EScale } from \"./redux/reducers\";\nimport { PlusSign, MinusSign } from \"./svg\";\n\nimport \"./chart-control.css\";\nimport { TwitterButton } from \"./TwitterButton\";\n\ntype TChartControlProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nclass ChartControl extends React.PureComponent<TChartControlProps, {}> {\n  constructor(props: TChartControlProps) {\n    super(props);\n\n    this.changeMode = this.changeMode.bind(this);\n    this.zoomIn = this.zoomIn.bind(this);\n    this.zoomOut = this.zoomOut.bind(this);\n    this.toggleScale = this.toggleScale.bind(this);\n  }\n\n  changeMode(key: string) {\n    this.props.changeMode(key);\n  }\n\n  renderModePicker(): JSX.Element {\n    return (\n      <Dropdown id=\"mode-control\" onSelect={this.changeMode}>\n        <Dropdown.Toggle variant=\"light\" id=\"mode-dropdown\">\n          {mode.toString(this.props.mode)}\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          {mode.all.map(m => (\n            <Dropdown.Item key={m} eventKey={m}>\n              {mode.toString(m)}\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n\n  zoomOut() {\n    this.props.changeZoom(-1);\n  }\n\n  zoomIn() {\n    this.props.changeZoom(1);\n  }\n\n  renderZoomControl(): JSX.Element {\n    return (\n      <div id=\"zoom-control\" className=\"btn-group\" aria-label=\"Zoom\">\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-light\"\n          disabled={this.props.zoom === 1}\n          onClick={this.zoomOut}\n        >\n          <MinusSign />\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-light\"\n          disabled={this.props.zoom === 5}\n          onClick={this.zoomIn}\n        >\n          <PlusSign />\n        </button>\n      </div>\n    );\n  }\n\n  toggleScale(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      if (e.target.dataset[\"key\"] !== this.props.scale) {\n        this.props.toggleScale();\n      }\n    }\n  }\n\n  renderScaleToggle(): JSX.Element {\n    const baseClass = \"btn btn-link btn-sm\";\n    return (\n      <div id=\"scale-toggle\" className=\"btn-group\" aria-label=\"Scale\">\n        {[EScale.Linear, EScale.Log].map(s => (\n          <button\n            key={s}\n            data-key={s}\n            type=\"button\"\n            className={baseClass + (this.props.scale === s ? \" selected\" : \"\")}\n            onClick={this.toggleScale}\n          >\n            {s}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <div id=\"chart-control\" className=\"baseline-flex\">\n        {this.renderModePicker()}\n        <div className=\"center-flex\">\n          {this.renderScaleToggle()}\n          <TwitterButton />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  zoom: state.zoom,\n  mode: state.mode,\n  scale: state.scale\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ changeMode, changeZoom, toggleScale }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChartControl);\n","import dayjs from \"dayjs\";\nimport { max } from \"d3-array\";\nimport React from \"react\";\nimport Measure, { BoundingRect } from \"react-measure\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { format } from \"d3-format\";\n\nimport { AxisLeft } from \"@vx/axis\";\nimport { Grid } from \"@vx/grid\";\nimport { Bar, Line, LinePath } from \"@vx/shape\";\nimport { curveMonotoneX } from \"@vx/curve\";\nimport { scaleLinear, scaleLog } from \"@vx/scale\";\nimport { Tooltip, withTooltip } from \"@vx/tooltip\";\nimport { WithTooltipProvidedProps } from \"@vx/tooltip/lib/enhancers/withTooltip\";\nimport { localPoint } from \"@vx/event\";\n\nimport { ModeToAllCountryData } from \"./redux/mode\";\nimport { AppState, EScale } from \"./redux/reducers\";\n\nimport \"./vx.css\";\n\nconst range = (n: number): number[] => Array.from(Array(n).keys());\n\ninterface IVXDataPoint {\n  date: number;\n  value: number;\n}\n\ninterface IVXDataSeries {\n  name: string;\n  color: string;\n  offset: number;\n  points: IVXDataPoint[];\n}\n\nconst x = (d: IVXDataPoint) => d.date;\nconst y = (d: IVXDataPoint) => d.value;\n\ninterface IVXProps {}\n\nexport interface IVXMarginShape {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n}\n\ninterface IVXProvidedProps {\n  margin?: IVXMarginShape;\n  events?: boolean;\n}\n\ninterface IVXTooltipData {\n  name: string;\n  color: string;\n  offset: number;\n  date: number;\n  value: number;\n  y: number;\n}\n\ntype TVXProps = IVXProps &\n  IVXProvidedProps &\n  ReturnType<typeof mapStateToProps>;\n\nconst DAYS_TO_SHOW = 17;\n\nconst VX = withTooltip<TVXProps, IVXTooltipData[]>(\n  ({\n    margin = { top: 0, right: 0, bottom: 0, left: 0 },\n    showTooltip,\n    hideTooltip,\n    tooltipData,\n    tooltipTop = 0,\n    tooltipLeft = 0,\n    mode,\n    scale,\n    regions\n  }: TVXProps & WithTooltipProvidedProps<IVXTooltipData[]>) => {\n    const [dims, setDims] = React.useState<BoundingRect>({\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n      width: 100,\n      height: 100\n    });\n\n    const xMax = dims.width - margin.left - margin.right;\n    const yMax = dims.height - margin.top - margin.bottom;\n\n    const vxData: IVXDataSeries[] = [];\n    const allCountryData = ModeToAllCountryData[mode];\n\n    regions.forEach(({ country, offset }, idx) => {\n      const countryData = allCountryData.filter(\n        countryRow => countryRow.country === country\n      );\n\n      const dayToCases = _.fromPairs(\n        _.map(countryData, ({ cases, year }) => [year, cases])\n      );\n\n      const points = range(DAYS_TO_SHOW)\n        .map(idx => ({\n          date: idx,\n          value: dayToCases[idx - offset] || 0\n        }))\n        .filter(point => point.value !== null && point.value !== 0);\n\n      vxData.push({\n        name: country,\n        color: `var(--series-color-${vxData.length % 6})`,\n        offset,\n        points\n      });\n    });\n\n    const tooltipShifter = (data: IVXTooltipData[]): IVXTooltipData[] => {\n      if (data.length < 2) {\n        return data;\n      }\n\n      data = data.sort((a, b) => (a.y > b.y) ? 1 : -1);\n      const middle = Math.floor(data.length / 2);\n\n      if (data[middle].y - data[middle - 1].y < 40) {\n        data[middle].y = data[middle].y + 20;\n        data[middle - 1].y = data[middle - 1].y - 20;\n      }\n\n      for (let i = middle - 2; i >= 0; i--) {\n        if (data[i + 1].y - data[i].y < 40) {\n          data[i].y = data[i + 1].y - 40;\n        }\n      }\n\n      for (let i = middle + 1; i < data.length; i++) {\n        if (data[i].y - data[i - 1].y < 40) {\n          data[i].y = data[i - 1].y + 40;\n        }\n      }\n\n      return data;\n    }\n\n    const handleTooltip = (\n      event: React.TouchEvent<SVGRectElement> | React.MouseEvent<SVGRectElement>\n    ) => {\n      const xValue = localPoint(event)?.x || 0;\n      const index = Math.round(xScale.invert(xValue));\n\n      let tooltipData: IVXTooltipData[] = [];\n      for (let i = 0; i < vxData.length; i++) {\n        const currentData = vxData[i];\n        const { name, color, offset } = currentData;\n        const date = index;\n\n        const matchingPoint = currentData.points.find(\n          point => point.date === date\n        );\n        if (!matchingPoint) {\n          continue;\n        }\n\n        const value = matchingPoint.value;\n\n        tooltipData.push({\n          name,\n          color,\n          offset,\n          date: index,\n          value,\n          y: yScale(value)\n        });\n      }\n\n      showTooltip({\n        tooltipData: tooltipShifter(tooltipData),\n        tooltipLeft: xScale(index),\n        tooltipTop: 0\n      });\n    };\n\n    const xScale = scaleLinear({\n      range: [0, dims.width],\n      domain: [0, DAYS_TO_SHOW - 1]\n    });\n\n    let maxY = 0;\n    for (let i = 0; i < vxData.length; i++) {\n      maxY = Math.max(max(vxData[i].points, y) || 0, maxY);\n    }\n    let yScale = scaleLinear({\n      range: [dims.height, 0],\n      domain: [0, maxY],\n      nice: true\n    });\n    if (scale === EScale.Log) {\n      yScale = scaleLog({\n        range: [dims.height, 0],\n        domain: [1, maxY],\n        nice: true\n      });\n    }\n\n    const common = {\n      x: (d: IVXDataPoint) => xScale(x(d)),\n      y: (d: IVXDataPoint) => yScale(y(d)),\n      curve: curveMonotoneX\n    };\n\n    return (\n      <Measure\n        bounds\n        onResize={r => {\n          r.bounds && setDims(r.bounds);\n        }}\n      >\n        {({ measureRef }) => (\n          <div ref={measureRef}>\n            <svg width={dims.width} height={350}>\n              <AxisLeft\n                top={margin.top}\n                left={0}\n                scale={yScale}\n                hideZero\n                numTicks={5}\n                tickFormat={format(\".2s\")}\n                tickLabelProps={() => ({\n                  fill: \"var(--gray)\",\n                  textAnchor: \"end\",\n                  fontSize: 10,\n                  dy: \"0.25em\"\n                })}\n                tickComponent={({ formattedValue, ...tickProps }) => (\n                  <text {...tickProps}>{formattedValue}</text>\n                )}\n              />\n              <Grid\n                top={margin.top}\n                left={margin.left}\n                xScale={xScale}\n                yScale={yScale}\n                stroke=\"var(--gray)\"\n                opacity={0.1}\n                width={xMax}\n                height={yMax}\n                numTicksRows={5}\n                numTicksColumns={10}\n              />\n              {vxData.map(d => (\n                <LinePath\n                  key={d.name}\n                  stroke={d.color}\n                  strokeWidth={3}\n                  {...common}\n                  data={d.points}\n                />\n              ))}\n              <Bar\n                x={0}\n                y={0}\n                width={dims.width}\n                height={350}\n                fill=\"transparent\"\n                onTouchStart={handleTooltip}\n                onTouchMove={handleTooltip}\n                onMouseEnter={handleTooltip}\n                onMouseMove={handleTooltip}\n                onMouseLeave={hideTooltip}\n              />\n              {tooltipData && (\n                <g>\n                  <Line\n                    from={{ x: tooltipLeft, y: 0 }}\n                    to={{ x: tooltipLeft, y: yMax }}\n                    stroke=\"var(--gray)\"\n                    strokeWidth={1}\n                    style={{ pointerEvents: \"none\" }}\n                    strokeDasharray=\"2,2\"\n                  />\n                </g>\n              )}\n            </svg>\n            {tooltipData && (\n              <div>\n                {tooltipData.map(d => {\n                  return (\n                    <Tooltip\n                      key={d.name}\n                      top={d.y - 30}\n                      left={tooltipLeft}\n                      style={{\n                        color: d.color,\n                        backgroundColor: \"transparent\",\n                        boxShadow: \"none\"\n                      }}\n                    >\n                      <div className=\"tooltip-desc\">\n                        <b>{`${d.name}`}</b>\n                        <span>{`- ${dayjs(\"2020-01-21\")\n                          .add(d.date - d.offset, \"day\")\n                          .format(\"MMM D\")}`}</span>\n                      </div>\n                      <div className=\"tooltip-value\">{`${d.value}`}</div>\n                    </Tooltip>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        )}\n      </Measure>\n    );\n  }\n);\n\nconst mapStateToProps = (state: AppState) => ({\n  regions: state.regions,\n  zoom: state.zoom,\n  scale: state.scale,\n  mode: state.mode\n});\n\nexport default connect(mapStateToProps)(VX);\n","import algoliasearch from \"algoliasearch/lite\";\nimport * as svg from \"./svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\nimport { addRegion } from \"./redux/actions\";\nimport \"./AddCountry.css\";\n\nconst searchClient = algoliasearch(\n  \"ZOOMT5L4JY\",\n  \"43a938b4fe4feea7874320d044a19bc5\"\n);\nconst searchIndex = searchClient.initIndex(\"covid\");\n\nexport const _AddRegion = ({\n  onSuccess,\n  addRegion\n}: {\n  onSuccess: () => void;\n  addRegion: (region: string) => void;\n}) => {\n  const [q, setQ] = useState(\"\");\n  const [suggestions, setSuggestions] = useState<string[]>([]);\n\n  const getSuggestions = async (q: string) => {\n    const { hits } = await searchIndex.search(q);\n    console.log(hits);\n    // @ts-ignore\n    const _suggestions = hits.map(hit => hit.name).slice(0, 5);\n\n    setSuggestions(_suggestions);\n  };\n\n  useEffect(() => {\n    getSuggestions(q);\n  }, [q]);\n\n  return (\n    <div id=\"region-input-row\" className=\"region-row\">\n      <div className=\"region-name-wrapper\">\n        <input\n          value={q}\n          onChange={e => setQ(e.target.value)}\n          className=\"form-control\"\n          style={{ maxWidth: 200 }}\n          type=\"text\"\n          autoFocus={true}\n          placeholder=\"Country or region\"\n        />\n\n        <button\n          className=\"btn btn-link\"\n          onClick={() => onSuccess()}\n          style={{ color: \"gray\" }}\n        >\n          <svg.TrashSign />\n        </button>\n      </div>\n      <div className=\"autocomplete\">\n        {suggestions.map(suggestion => (\n          <div\n            key={suggestion}\n            className={\"btn btn-link\"}\n            onClick={() => {\n              addRegion(suggestion);\n              onSuccess();\n            }}\n          >\n            {suggestion}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ addRegion }, dispatch);\n\nexport const AddRegion = connect(null, mapDispatchToProps)(_AddRegion);\n","import dayjs from \"dayjs\";\nimport dayOfYear from \"dayjs/plugin/dayOfYear\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\n\nimport { addRegion, removeRegion, shiftRegion } from \"./redux/actions\";\nimport { AppState } from \"./redux/reducers\";\nimport * as region from \"./redux/region\";\nimport { AddRegion } from \"./AddCountry\";\nimport * as svg from \"./svg\";\n\nimport \"./x-axis.css\";\n\ndayjs.extend(dayOfYear);\n\ntype TXAxisProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\ninterface IXAxisState {\n  enteringRegion: boolean;\n}\n\nclass XAxis extends React.PureComponent<TXAxisProps, IXAxisState> {\n  constructor(props: TXAxisProps) {\n    super(props);\n\n    this.state = { enteringRegion: false };\n    this.addRegion = this.addRegion.bind(this);\n    this.removeRegion = this.removeRegion.bind(this);\n    this.shiftRegionBack1 = this.shiftRegionBack1.bind(this);\n    this.shiftRegionBack5 = this.shiftRegionBack5.bind(this);\n    this.shiftRegionForward1 = this.shiftRegionForward1.bind(this);\n    this.shiftRegionForward5 = this.shiftRegionForward5.bind(this);\n    this.showNewRegionInput = this.showNewRegionInput.bind(this);\n    this.dismissNewRegionInput = this.dismissNewRegionInput.bind(this);\n  }\n\n  addRegion(e: React.KeyboardEvent<HTMLElement>) {\n    console.log(e);\n  }\n\n  removeRegion(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.removeRegion(parseInt(e.target.dataset[\"index\"]!));\n    }\n  }\n\n  shiftRegionBack1(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), -1);\n    }\n  }\n\n  shiftRegionBack5(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), -5);\n    }\n  }\n\n  shiftRegionForward1(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), 1);\n    }\n  }\n\n  shiftRegionForward5(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), 5);\n    }\n  }\n\n  showNewRegionInput() {\n    this.setState({ enteringRegion: true });\n  }\n\n  dismissNewRegionInput() {\n    this.setState({ enteringRegion: false });\n  }\n\n  dayClass(day: dayjs.Dayjs): string {\n    let cls = [\"region-day\"];\n    const date = day.dayOfYear();\n    if (date % 3 === 1) {\n      cls.push(\"region-day-3\");\n    }\n    if (date % 4 === 1) {\n      cls.push(\"region-day-4\");\n    }\n    return cls.join(\" \");\n  }\n\n  dayString(day: dayjs.Dayjs): string {\n    const date = day.dayOfYear();\n    if (date % 4 === 1) {\n      return day.format(\"MMM D\");\n    }\n    if (date % 2 === 0) {\n      return \"Â·\";\n    }\n    return day.format(\"D\");\n  }\n\n  renderDays(offset: number): JSX.Element {\n    const zero = dayjs(\"2020-01-21\");\n    return (\n      <div className=\"region-days-wrapper\">\n        <div className=\"region-days-gradient\" />\n        <div\n          className=\"region-days baseline-flex\"\n          style={{\n            transform: `translateX(${(offset * 100) / 16}%`\n          }}\n        >\n          {[...Array(60).keys()].map(d => (\n            <div key={d} className={this.dayClass(zero.add(d, \"day\"))}>\n              <div className=\"region-day-inner\">\n                {this.dayString(zero.add(d, \"day\"))}\n              </div>\n              <div className=\"region-day-inner-mobile\">\n                {zero.add(d, \"day\").format(\"M/D\")}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  renderRegion(r: region.IRegion, i: number): JSX.Element {\n    const buttonAttrs = { className: \"btn btn-link\", \"data-index\": i };\n    return (\n      <div className=\"region-row\" key={r.country}>\n        <div className=\"region-shifter region-shifter-left\">\n          <button {...buttonAttrs} onClick={this.shiftRegionBack5}>\n            <svg.ChevronsLeft />\n          </button>\n          <button {...buttonAttrs} onClick={this.shiftRegionBack1}>\n            <svg.ChevronLeft />\n          </button>\n        </div>\n        <div className=\"region-name-wrapper\">\n          <div className=\"region-icon\" style={{\n            backgroundColor: `var(--series-color-${i % 6})`\n          }}/>\n          <div className=\"region-name\">{r.country}</div>\n          <button {...buttonAttrs} onClick={this.removeRegion}>\n            <svg.TrashSign />\n          </button>\n        </div>\n        {this.renderDays(r.offset)}\n        <div className=\"region-shifter region-shifter-right\">\n          <button {...buttonAttrs} onClick={this.shiftRegionForward1}>\n            <svg.ChevronRight />\n          </button>\n          <button {...buttonAttrs} onClick={this.shiftRegionForward5}>\n            <svg.ChevronsRight />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderAddRegion(): JSX.Element {\n    return (\n      <div id=\"add-region\" className=\"region-row\">\n        <button className=\"btn btn-primary\" onClick={this.showNewRegionInput}>\n          <svg.PlusSign />\n          <span>Add Country / Region</span>\n        </button>\n      </div>\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <div id=\"x-axis\">\n        <hr />\n        {this.props.regions.map((r, i) => this.renderRegion(r, i))}\n        {this.state.enteringRegion ? (\n          <AddRegion onSuccess={() => this.dismissNewRegionInput()} />\n        ) : (\n          this.renderAddRegion()\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  regions: state.regions\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ addRegion, removeRegion, shiftRegion }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(XAxis);\n","import React from \"react\";\n\nimport ChartControl from \"./chart-control\";\nimport VX from \"./vx\";\nimport XAxis from \"./x-axis\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div id=\"app-wrapper\">\n      <div id=\"title-row\" className=\"row\">\n        <div className=\"col-12 mx-auto\">\n          <h1 id=\"page-title\">COVID Rules Everything Around Me</h1>\n          <h5 id=\"page-subtitle\">\n            Understand COVID growth rates between different countries.\n          </h5>\n          <div id=\"title-separator\" />\n        </div>\n      </div>\n      <ChartControl />\n      <div className=\"vx-wrapper\">\n        <VX />\n      </div>\n\n      <XAxis />\n\n      <footer>\n        <p>\n          Made by <a href={\"https://twitter.com/danqing_liu\"}>@danqing_liu</a>{\" \"}\n          and <a href={\"https://twitter.com/victorpontis\"}>@victorpontis</a>{\" \"}\n          with data pulled from{\" \"}\n          <a href={\"https://ourworldindata.org/coronavirus\"}>\n            Our World In Data\n          </a>\n          .\n        </p>\n\n        <p>\n          Explore the code in{\" \"}\n          <a href={\"https://github.com/danqing/covid19/\"}>Github</a>. Credit to\n          Algolia for search.\n        </p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\n\nimport reducers from \"./redux/reducers\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={createStore(reducers)}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}