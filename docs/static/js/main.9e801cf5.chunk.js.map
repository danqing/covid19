{"version":3,"sources":["redux/actions.tsx","redux/mode.tsx","redux/reducers.tsx","redux/region.tsx","svg.tsx","chart-control.tsx","vx.tsx","AddCountry.tsx","x-axis.tsx","TwitterButton.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["EReduxActionTypes","toggleScale","type","TOGGLE_SCALE","changeZoom","by","CHANGE_ZOOM","data","changeMode","to","CHANGE_MODE","addRegion","name","ADD_REGION","removeRegion","index","REMOVE_REGION","shiftRegion","SHIFT_REGION","EMode","ModeToAllCountryData","TotalCases","DailyCases","TotalDeaths","DailyDeaths","all","toString","mode","EScale","fromString","str","parts","split","length","country","offset","_offset","parseInt","defaultState","scale","Linear","zoom","regions","state","persistedState","Log","setRegions","push","splice","query","s","z","m","r","map","region","window","history","replaceState","qs","stringify","loadState","parse","location","search","Object","values","includes","Array","isArray","ChevronLeft","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","React","PureComponent","ChevronRight","ChevronsLeft","ChevronsRight","PlusSign","x1","y1","x2","y2","MinusSign","TrashSign","d","ChartControl","props","bind","zoomIn","zoomOut","key","this","Dropdown","id","onSelect","Toggle","variant","Menu","Item","eventKey","className","aria-label","disabled","onClick","e","target","HTMLElement","dataset","data-key","renderModePicker","renderScaleToggle","connect","dispatch","bindActionCreators","logTicks","Set","y","value","VX","withTooltip","margin","top","right","bottom","left","showTooltip","hideTooltip","tooltipData","tooltipTop","tooltipLeft","useState","width","height","dims","setDims","xMax","yMax","vxData","allCountryData","forEach","idx","n","countryData","filter","countryRow","dayToCases","_","fromPairs","cases","year","from","keys","date","point","color","tooltipShifter","sort","a","b","middle","Math","floor","i","handleTooltip","event","xValue","localPoint","x","round","xScale","invert","currentData","matchingPoint","find","yScale","scaleLinear","range","domain","DAYS_TO_SHOW","maxY","max","nice","scaleLog","common","curve","curveMonotoneX","axisFormat","valueOf","has","format","bounds","onResize","measureRef","ref","AxisLeft","hideZero","numTicks","tickFormat","tickStroke","tickLabelProps","textAnchor","fontSize","dx","dy","tickComponent","formattedValue","tickProps","Grid","opacity","numTicksRows","numTicksColumns","LinePath","Bar","onTouchStart","onTouchMove","onMouseEnter","onMouseMove","onMouseLeave","Line","style","pointerEvents","strokeDasharray","backgroundColor","boxShadow","Tooltip","dayjs","add","searchIndex","algoliasearch","initIndex","AddRegion","onSuccess","q","setQ","suggestions","setSuggestions","getSuggestions","hits","console","log","_suggestions","hit","slice","useEffect","onChange","maxWidth","autoFocus","placeholder","suggestion","extend","dayOfYear","XAxis","enteringRegion","shiftRegionBack1","shiftRegionBack5","shiftRegionForward1","shiftRegionForward5","showNewRegionInput","dismissNewRegionInput","setState","day","modulo","zero","transform","dayString","delta","cls","abs","buttonAttrs","renderOffset","renderDays","renderRegion","renderAddRegion","TwitterButton","href","setUrl","display","data-show-count","App","Boolean","hostname","match","ReactDOM","render","store","createStore","action","actions","SET_REGIONS","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"uMAEYA,E,kFAkBL,SAASC,IACd,MAAO,CAAEC,KAAMF,EAAkBG,cAQ5B,SAASC,EAAWC,GACzB,MAAO,CAAEH,KAAMF,EAAkBM,YAAaC,KAAMF,GAQ/C,SAASG,EAAWC,GACzB,MAAO,CAAEP,KAAMF,EAAkBU,YAAaH,KAAME,GAiB/C,SAASE,EAAUC,GACxB,MAAO,CAAEV,KAAMF,EAAkBa,WAAYN,KAAMK,GAQ9C,SAASE,EAAaC,GAC3B,MAAO,CAAEb,KAAMF,EAAkBgB,cAAeT,KAAMQ,GAQjD,SAASE,EAAYF,EAAeV,GACzC,MAAO,CAAEH,KAAMF,EAAkBkB,aAAcX,KAAM,CAAEQ,QAAOV,Q,SAzEpDL,K,4BAAAA,E,0BAAAA,E,0BAAAA,E,0BAAAA,E,wBAAAA,E,8BAAAA,E,6BAAAA,M,WCGAmB,E,kDAAAA,K,gBAAAA,E,gBAAAA,E,iBAAAA,E,kBAAAA,M,KAQL,IAAMC,GAA8C,mBACxDD,EAAME,WAAaA,GADqC,cAExDF,EAAMG,WAAaA,GAFqC,cAGxDH,EAAMI,YAAcA,GAHoC,cAIxDJ,EAAMK,YAAcA,GAJoC,GAO9CC,EAAe,CAC1BN,EAAME,WACNF,EAAMG,WACNH,EAAMI,YACNJ,EAAMK,aAGD,SAASE,EAASC,GACvB,OAAQA,GACN,KAAKR,EAAME,WACT,MAAO,cACT,KAAKF,EAAMG,WACT,MAAO,cACT,KAAKH,EAAMI,YACT,MAAO,eACT,KAAKJ,EAAMK,YACT,MAAO,gB,IC5BDI,E,QCCL,SAASC,EAAWC,GACzB,IAEMC,EAAQD,EAAIE,MAAM,KACxB,GAAqB,IAAjBD,EAAME,OACR,MAJW,CAAEC,QAAS,gBAAiBC,OAAQ,GADF,kBAQpBJ,EARoB,GAQxCG,EARwC,KAQ/BE,EAR+B,KAS/C,MAAO,CACLF,UACAC,OAAQE,SAASD,IAAY,I,SDZrBR,K,gBAAAA,E,WAAAA,M,KAYZ,IAAMU,EAAyB,CAC7BC,MAAOX,EAAOY,OACdC,KAAM,EACNd,KAAMA,EAAWN,WACjBqB,QAAS,CACP,CAAER,QAAS,gBAAiBC,QAAS,IACrC,CAAED,QAAS,QAASC,QAAS,IAC7B,CAAED,QAAS,cAAeC,QAAS,MAyBvC,SAASlC,EAAY0C,GACnB,OAAOC,EAAe,eACjBD,EADgB,CAEnBJ,MAAOI,EAAMJ,QAAUX,EAAOY,OAASZ,EAAOiB,IAAMjB,EAAOY,UAI/D,SAASpC,EAAWuC,EAAiBpC,GACnC,IAAIkC,EAAOE,EAAMF,KAAOlC,EAMxB,OALIkC,EAAO,EACTA,EAAO,EACEA,EAAO,IAChBA,EAAO,GAEFG,EAAe,eAAKD,EAAN,CAAaF,UAGpC,SAASjC,EAAWmC,EAAiBlC,GACnC,OAAOmC,EAAe,eAAKD,EAAN,CAAahB,KAAMlB,KAG1C,SAASqC,EAAWH,EAAiBD,GACnC,OAAOE,EAAe,eAAKD,EAAN,CAAaD,aAGpC,SAAS/B,EAAUgC,EAAiB/B,GAClC,IAAI8B,EAAO,YAAOC,EAAMD,SAExB,OADAA,EAAQK,KAAK,CAAEb,QAAStB,EAAMuB,QAAS,KAChCS,EAAe,eAAKD,EAAN,CAAaD,aAGpC,SAAS5B,EAAa6B,EAAiB5B,GACrC,IAAI2B,EAAO,YAAOC,EAAMD,SAExB,OADAA,EAAQM,OAAOjC,EAAO,GACf6B,EAAe,eAAKD,EAAN,CAAaD,aAGpC,SAASzB,EAAY0B,EAAiB5B,EAAeV,GACnD,IAAIqC,EAAO,YAAOC,EAAMD,SAExB,OADAA,EAAQ3B,GAAR,eAAsB2B,EAAQ3B,GAA9B,CAAsCoB,OAAQO,EAAQ3B,GAAOoB,OAAS9B,IAC/DuC,EAAe,eAAKD,EAAN,CAAaD,aAGpC,SAASE,EAAeD,GACtB,IAAIM,EAAQ,CACVC,EAAGP,EAAMJ,MACTY,EAAGR,EAAMF,KACTW,EAAGT,EAAMhB,KACT0B,EAAGV,EAAMD,QAAQY,KAAI,SAAAD,GAAC,MC9FlB,GAAN,QADuBE,ED+FqBF,GC9F3BnB,QAAjB,YAA4BqB,EAAOpB,QAD9B,IAAkBoB,MDkGvB,OADAC,OAAOC,QAAQC,aAAa,KAAM,GAAI,IAAMC,IAAGC,UAAUX,IAClDN,EAGT,SAASkB,IACP,IAAMZ,EAAQU,IAAGG,MAAMN,OAAOO,SAASC,QACnCrB,EAAK,eAAQL,GAcjB,OAZI2B,OAAOC,OAAOtC,GAAQuC,SAASlB,EAAMC,KACvCP,EAAMJ,MAAQU,EAAMC,GAElBe,OAAOC,OAAOvC,GAAYwC,SAASlB,EAAMG,KAC3CT,EAAMhB,KAAOsB,EAAMG,GAEjBgB,MAAMC,QAAQpB,EAAMI,GACtBV,EAAMD,QAAUO,EAAMI,EAAEC,KAAI,SAAAD,GAAC,OAAIE,EAAkBF,MAC1CJ,EAAMI,IACfV,EAAMD,QAAU,CAACa,EAAkBN,EAAMI,KAGpCV,E,uDExHI2B,EAAb,iLAEI,OACE,yBAAKC,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,8BAAUC,OAAO,yBALzB,GAAiCC,IAAMC,eAW1BC,EAAb,iLAEI,OACE,yBAAKT,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,8BAAUC,OAAO,wBALzB,GAAkCC,IAAMC,eAW3BE,EAAb,iLAEI,OACE,yBAAKV,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,8BAAUC,OAAO,oBACjB,8BAAUA,OAAO,0BANzB,GAAkCC,IAAMC,eAY3BG,EAAb,iLAEI,OACE,yBAAKX,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,8BAAUC,OAAO,qBACjB,8BAAUA,OAAO,wBANzB,GAAmCC,IAAMC,eAY5BI,GAAb,iLAEI,OACE,yBAAKZ,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,0BAAMQ,GAAG,KAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,OAChC,0BAAMH,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,YANxC,GAA8BT,IAAMC,eAYvBS,GAAb,iLAEI,OACE,yBAAKjB,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,0BAAMQ,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,YALxC,GAA+BT,IAAMC,eAWxBU,GAAb,iLAEI,OACE,yBAAKlB,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IACrEC,cAAc,QAAQC,eAAe,SACrC,8BAAUC,OAAO,iBACjB,0BAAMa,EAAE,mFACR,0BAAMN,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACjC,0BAAMH,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,YARzC,GAA+BT,IAAMC,eCxD/BY,I,kBACJ,WAAYC,GAA4B,IAAD,8BACrC,4CAAMA,KAEDpF,WAAa,EAAKA,WAAWqF,KAAhB,gBAClB,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,gBACd,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBACf,EAAK5F,YAAc,EAAKA,YAAY4F,KAAjB,gBANkB,E,wEAS5BG,GACTC,KAAKL,MAAMpF,WAAWwF,K,yCAItB,OACE,kBAACE,EAAA,EAAD,CAAUC,GAAG,eAAeC,SAAUH,KAAKzF,YACzC,kBAAC0F,EAAA,EAASG,OAAV,CAAiBC,QAAQ,QAAQH,GAAG,iBACjCxE,EAAcsE,KAAKL,MAAMjE,OAE5B,kBAACuE,EAAA,EAASK,KAAV,KACG5E,EAAS2B,KAAI,SAAAF,GAAC,OACb,kBAAC8C,EAAA,EAASM,KAAV,CAAeR,IAAK5C,EAAGqD,SAAUrD,GAC9BzB,EAAcyB,W,gCASzB6C,KAAKL,MAAMxF,YAAY,K,+BAIvB6F,KAAKL,MAAMxF,WAAW,K,0CAItB,OACE,yBAAK+F,GAAG,eAAeO,UAAU,YAAYC,aAAW,QACtD,4BACEzG,KAAK,SACLwG,UAAU,uBACVE,SAA8B,IAApBX,KAAKL,MAAMnD,KACrBoE,QAASZ,KAAKF,SAEd,kBAAC,GAAD,OAEF,4BACE7F,KAAK,SACLwG,UAAU,uBACVE,SAA8B,IAApBX,KAAKL,MAAMnD,KACrBoE,QAASZ,KAAKH,QAEd,kBAAC,GAAD,U,kCAMIgB,GACNA,EAAEC,kBAAkBC,aAClBF,EAAEC,OAAOE,QAAT,MAA4BhB,KAAKL,MAAMrD,OACzC0D,KAAKL,MAAM3F,gB,0CAKiB,IAAD,OAE/B,OACE,yBAAKkG,GAAG,eAAeO,UAAU,YAAYC,aAAW,SACrD,CAAC/E,EAAOY,OAAQZ,EAAOiB,KAAKS,KAAI,SAAAJ,GAAC,OAChC,4BACE8C,IAAK9C,EACLgE,WAAUhE,EACVhD,KAAK,SACLwG,UARU,uBAQc,EAAKd,MAAMrD,QAAUW,EAAI,YAAc,IAC/D2D,QAAS,EAAK5G,aAEbiD,S,+BAQT,OACE,yBAAKiD,GAAG,gBAAgBO,UAAU,iBAC/BT,KAAKkB,mBACN,yBAAKT,UAAU,iBACZT,KAAKmB,0B,GA9FWtC,IAAMC,gBA8GlBsC,gBATS,SAAC1E,GAAD,MAAsB,CAC5CF,KAAME,EAAMF,KACZd,KAAMgB,EAAMhB,KACZY,MAAOI,EAAMJ,UAGY,SAAC+E,GAAD,OACzBC,YAAmB,CAAE/G,aAAYJ,aAAYH,eAAeqH,KAE/CD,CAA6C1B,I,4LCtGtD6B,I,MAAW,IAAIC,IAAI,CAAC,EAAG,GAAI,IAAK,IAAM,IAAO,OAe7CC,GAAI,SAAChC,GAAD,OAAqBA,EAAEiC,OA+B3BC,GAAKC,cACT,YAU8D,IAAD,IAT3DC,cAS2D,MATlD,CAAEC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,GASa,EAR3DC,EAQ2D,EAR3DA,YACAC,EAO2D,EAP3DA,YACAC,EAM2D,EAN3DA,YAM2D,KAL3DC,WAK2D,EAJ3DC,oBAI2D,MAJ7C,EAI6C,EAH3D5G,EAG2D,EAH3DA,KACAY,EAE2D,EAF3DA,MACAG,EAC2D,EAD3DA,QAC2D,EACnCoC,IAAM0D,SAAuB,CACnDT,IAAK,EACLG,KAAM,EACND,OAAQ,EACRD,MAAO,EACPS,MAAO,IACPC,OAAQ,MAPiD,mBACpDC,EADoD,KAC9CC,EAD8C,KAUrDC,EAAOF,EAAKF,MAAQX,EAAOI,KAAOJ,EAAOE,MACzCc,EAAOH,EAAKD,OAASZ,EAAOC,IAAMD,EAAOG,OAEzCc,EAA0B,GAC1BC,EAAiB5H,EAAqBO,GAE5Ce,EAAQuG,SAAQ,WAAsBC,GAAS,IA1EpCC,EA0EQjH,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,OACpBiH,EAAcJ,EAAeK,QACjC,SAAAC,GAAU,OAAIA,EAAWpH,UAAYA,KAGjCqH,EAAaC,KAAEC,UACnBD,KAAElG,IAAI8F,GAAa,gBAAGM,EAAH,EAAGA,MAAH,MAAqB,CAArB,EAAUC,KAAkBD,OAG3C7E,GAnFGsE,EA6CM,GA7CkB/E,MAAMwF,KAAKxF,MAAM+E,GAAGU,SAoFlDvG,KAAI,SAAA4F,GAAG,MAAK,CACXY,KAAMZ,EACNvB,MAAO4B,EAAWL,EAAM/G,IAAW,MAEpCkH,QAAO,SAAAU,GAAK,OAAoB,OAAhBA,EAAMpC,OAAkC,IAAhBoC,EAAMpC,SAEjDoB,EAAOhG,KAAK,CACVnC,KAAMsB,EACN8H,MAAM,sBAAD,OAAwBjB,EAAO9G,OAAS,EAAxC,KACLE,SACA0C,cA4EJ,IAxEA,IAAMoF,EAAiB,SAAC1J,GACtB,GAAIA,EAAK0B,OAAS,EAChB,OAAO1B,EAGTA,EAAOA,EAAK2J,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEzC,EAAI0C,EAAE1C,EAAK,GAAK,KAC9C,IAAM2C,EAASC,KAAKC,MAAMhK,EAAK0B,OAAS,GAEpC1B,EAAK8J,GAAQ3C,EAAInH,EAAK8J,EAAS,GAAG3C,EAAI,KACxCnH,EAAK8J,GAAQ3C,EAAInH,EAAK8J,GAAQ3C,EAAI,GAClCnH,EAAK8J,EAAS,GAAG3C,EAAInH,EAAK8J,EAAS,GAAG3C,EAAI,IAG5C,IAAK,IAAI8C,EAAIH,EAAS,EAAGG,GAAK,EAAGA,IAC3BjK,EAAKiK,EAAI,GAAG9C,EAAInH,EAAKiK,GAAG9C,EAAI,KAC9BnH,EAAKiK,GAAG9C,EAAInH,EAAKiK,EAAI,GAAG9C,EAAI,IAIhC,IAAK,IAAI8C,EAAIH,EAAS,EAAGG,EAAIjK,EAAK0B,OAAQuI,IACpCjK,EAAKiK,GAAG9C,EAAInH,EAAKiK,EAAI,GAAG9C,EAAI,KAC9BnH,EAAKiK,GAAG9C,EAAInH,EAAKiK,EAAI,GAAG9C,EAAI,IAIhC,OAAOnH,GAGHkK,EAAgB,SACpBC,GAMA,IALI,IAAD,EACGC,GAAS,UAAAC,aAAWF,UAAX,eAAmBG,IAAK,EACjC9J,EAAQuJ,KAAKQ,MAAMC,EAAOC,OAAOL,IAEnCtC,EAAgC,GAJjC,WAKMmC,GACP,IAAMS,EAAclC,EAAOyB,GACnB5J,EAAwBqK,EAAxBrK,KAAMoJ,EAAkBiB,EAAlBjB,MAAO7H,EAAW8I,EAAX9I,OACf2H,EAAO/I,EAEPmK,EAAgBD,EAAYpG,OAAOsG,MACvC,SAAApB,GAAK,OAAIA,EAAMD,OAASA,KAE1B,IAAKoB,EACH,iBAGF,IAAMvD,EAAQuD,EAAcvD,MAE5BU,EAAYtF,KAAK,CACfnC,OACAoJ,QACA7H,SACA2H,KAAM/I,EACN4G,QACAD,EAAG0D,EAAOzD,MApBL6C,EAAI,EAAGA,EAAIzB,EAAO9G,OAAQuI,IAAK,EAA/BA,GAwBTrC,EAAY,CACVE,YAAa4B,EAAe5B,GAC5BE,YAAawC,EAAOhK,GACpBuH,WAAY,KAIVyC,EAASM,aAAY,CACzBC,MAAO,CAAC,EAAG3C,EAAKF,OAChB8C,OAAQ,CAAC,EAAGC,MAGVC,EAAO,EACFjB,EAAI,EAAGA,EAAIzB,EAAO9G,OAAQuI,IACjCiB,EAAOnB,KAAKoB,IAAIA,aAAI3C,EAAOyB,GAAG3F,OAAQ6C,KAAM,EAAG+D,GAEjD,IAAIL,EAASC,aAAY,CACvBC,MAAO,CAAC3C,EAAKD,OAAQ,GACrB6C,OAAQ,CAAC,EAAGE,GACZE,MAAM,IAEJpJ,IAAUX,EAAOiB,MACnBuI,EAASQ,aAAS,CAChBN,MAAO,CAAC3C,EAAKD,OAAQ,GACrB6C,OAAQ,CAAC,EAAGE,GACZE,MAAM,KAIV,IAAME,EAAS,CACbhB,EAAG,SAACnF,GAAD,OAAqBqF,EA5KpB,SAACrF,GAAD,OAAqBA,EAAEoE,KA4KIe,CAAEnF,KACjCgC,EAAG,SAAChC,GAAD,OAAqB0F,EAAO1D,GAAEhC,KACjCoG,MAAOC,MAOHC,EAAazJ,IAAUX,EAAOiB,IAJlB,SAACsG,EAAoCqB,GACrD,IAAI7C,EAAqB,kBAANwB,EAAiBA,EAAIA,EAAE8C,UAC1C,OAAOzE,GAAS0E,IAAIvE,GAASwE,aAAO,MAAPA,CAAchD,GAAK,IAEIgD,aAAO,OAE7D,OACE,kBAAC,KAAD,CACEC,QAAM,EACNC,SAAU,SAAAhJ,GACRA,EAAE+I,QAAUxD,EAAQvF,EAAE+I,WAGvB,gBAAGE,EAAH,EAAGA,WAAH,OACC,yBAAKC,IAAKD,GACR,yBAAK7D,MAAOE,EAAKF,MAAOC,OAAQ,KAC9B,kBAAC8D,GAAA,EAAD,CACEzE,IAAKD,EAAOC,IACZG,KAAM,EACN3F,MAAO6I,EACPqB,UAAQ,EACRC,SAAU,EACVC,WAAYX,EACZY,WAAW,cACXnI,OAAO,cACPoI,eAAgB,iBAAO,CACrBrI,KAAM,cACNsI,WAAY,MACZC,SAAU,GACVC,GAAI,MACJC,GAAI,WAENC,cAAe,gBAAGC,EAAH,EAAGA,eAAmBC,EAAtB,0CACb,yBAAUA,EAAYD,MAG1B,kBAACE,GAAA,EAAD,CACEtF,IAAKD,EAAOC,IACZG,KAAMJ,EAAOI,KACb6C,OAAQA,EACRK,OAAQA,EACR3G,OAAO,cACP6I,QAAS,GACT7E,MAAOI,EACPH,OAAQI,EACRyE,aAAc,EACdC,gBAAiB,KAElBzE,EAAOzF,KAAI,SAAAoC,GAAC,OACX,kBAAC+H,GAAA,EAAD,eACEzH,IAAKN,EAAE9E,KACP6D,OAAQiB,EAAEsE,MACVtF,YAAa,GACTmH,EAJN,CAKEtL,KAAMmF,EAAEb,aAGZ,kBAAC6I,GAAA,EAAD,CACE7C,EAAG,EACHnD,EAAG,EACHe,MAAOE,EAAKF,MACZC,OAAQ,IACRlE,KAAK,cACLmJ,aAAclD,EACdmD,YAAanD,EACboD,aAAcpD,EACdqD,YAAarD,EACbsD,aAAc3F,IAEfC,GACC,2BACE,kBAAC2F,GAAA,EAAD,CACEpE,KAAM,CAAEiB,EAAGtC,EAAab,EAAG,GAC3BjH,GAAI,CAAEoK,EAAGtC,EAAab,EAAG,KACzBjD,OAAO,cACPC,YAAa,EACbuJ,MAAO,CAAEC,cAAe,QACxBC,gBAAgB,UAKvB9F,GACC,6BACGA,EAAY/E,KAAI,SAAAoC,GACf,IAAIuI,EAAQ,CACVjE,MAAOtE,EAAEsE,MACToE,gBAAiB,cACjBC,UAAW,QAMb,OAJI3I,EAAEoE,KAAO,KACXmE,EAAK,UAAgB,oBACrBA,EAAK,UAAgB,SAGrB,kBAACK,GAAA,EAAD,CACEtI,IAAKN,EAAE9E,KACPmH,IAAKrC,EAAEgC,EAAI,GACXQ,KAAMK,EACN0F,MAAOA,GAEP,yBAAKvH,UAAU,gBACb,qCAAOhB,EAAE9E,OACT,0CAAY2N,KAAM,cACfC,IAAI9I,EAAEoE,KAAOpE,EAAEvD,OAAQ,OACvBgK,OAAO,YAEZ,yBAAKzF,UAAU,iBAAf,UAAmChB,EAAEiC,oBAoB5CN,gBAPS,SAAC1E,GAAD,MAAsB,CAC5CD,QAASC,EAAMD,QACfD,KAAME,EAAMF,KACZF,MAAOI,EAAMJ,MACbZ,KAAMgB,EAAMhB,QAGC0F,CAAyBO,I,qECzUlC6G,I,OAJeC,KACnB,aACA,oCAE+BC,UAAU,UAmE9BC,GAAYvH,YAAQ,MAHN,SAACC,GAAD,OACzBC,YAAmB,CAAE5G,aAAa2G,KAEXD,EAjEC,SAAC,GAMpB,IALLwH,EAKI,EALJA,UACAlO,EAII,EAJJA,UAII,EACc6H,mBAAS,IADvB,mBACGsG,EADH,KACMC,EADN,OAEkCvG,mBAAmB,IAFrD,mBAEGwG,EAFH,KAEgBC,EAFhB,KAIEC,EAAc,yCAAG,WAAOJ,GAAP,oBAAA3E,EAAA,sEACEsE,GAAYzK,OAAO8K,GADrB,gBACbK,EADa,EACbA,KACRC,QAAQC,IAAIF,GAENG,EAAeH,EAAK7L,KAAI,SAAAiM,GAAG,OAAIA,EAAI3O,QAAM4O,MAAM,EAAG,GAExDP,EAAeK,GANM,2CAAH,sDAapB,OAJAG,qBAAU,WACRP,EAAeJ,KACd,CAACA,IAGF,yBAAK3I,GAAG,mBAAmBO,UAAU,cACnC,yBAAKA,UAAU,uBACb,2BACEiB,MAAOmH,EACPY,SAAU,SAAA5I,GAAC,OAAIiI,EAAKjI,EAAEC,OAAOY,QAC7BjB,UAAU,eACVuH,MAAO,CAAE0B,SAAU,KACnBzP,KAAK,OACL0P,WAAW,EACXC,YAAY,sBAGd,4BACEnJ,UAAU,eACVG,QAAS,kBAAMgI,KACfZ,MAAO,CAAEjE,MAAO,SAEhB,kBAAC,GAAD,QAGJ,yBAAKtD,UAAU,gBACZsI,EAAY1L,KAAI,SAAAwM,GAAU,OACzB,yBACE9J,IAAK8J,EACLpJ,UAAW,eACXG,QAAS,WACPlG,EAAUmP,GACVjB,MAGDiB,W,OCrDbvB,KAAMwB,OAAOC,M,IAUPC,G,YACJ,WAAYrK,GAAqB,IAAD,8BAC9B,4CAAMA,KAEDjD,MAAQ,CACXuN,gBAAgB,EAChBvH,KAAM,CACJZ,IAAK,EACLG,KAAM,EACND,OAAQ,EACRD,MAAO,EACPS,MAAO,IACPC,OAAQ,MAGZ,EAAK/H,UAAY,EAAKA,UAAUkF,KAAf,gBACjB,EAAK/E,aAAe,EAAKA,aAAa+E,KAAlB,gBACpB,EAAKsK,iBAAmB,EAAKA,iBAAiBtK,KAAtB,gBACxB,EAAKuK,iBAAmB,EAAKA,iBAAiBvK,KAAtB,gBACxB,EAAKwK,oBAAsB,EAAKA,oBAAoBxK,KAAzB,gBAC3B,EAAKyK,oBAAsB,EAAKA,oBAAoBzK,KAAzB,gBAC3B,EAAK0K,mBAAqB,EAAKA,mBAAmB1K,KAAxB,gBAC1B,EAAK2K,sBAAwB,EAAKA,sBAAsB3K,KAA3B,gBArBC,E,uEAwBtBiB,GACRsI,QAAQC,IAAIvI,K,mCAGDA,GACPA,EAAEC,kBAAkBC,aACtBf,KAAKL,MAAM9E,aAAauB,SAASyE,EAAEC,OAAOE,QAAT,U,uCAIpBH,GACXA,EAAEC,kBAAkBC,aACtBf,KAAKL,MAAM3E,YAAYoB,SAASyE,EAAEC,OAAOE,QAAT,QAA8B,K,uCAIjDH,GACXA,EAAEC,kBAAkBC,aACtBf,KAAKL,MAAM3E,YAAYoB,SAASyE,EAAEC,OAAOE,QAAT,QAA8B,K,0CAI9CH,GACdA,EAAEC,kBAAkBC,aACtBf,KAAKL,MAAM3E,YAAYoB,SAASyE,EAAEC,OAAOE,QAAT,OAA6B,K,0CAI7CH,GACdA,EAAEC,kBAAkBC,aACtBf,KAAKL,MAAM3E,YAAYoB,SAASyE,EAAEC,OAAOE,QAAT,OAA6B,K,2CAK/DhB,KAAKwK,SAAS,CAAEP,gBAAgB,M,8CAIhCjK,KAAKwK,SAAS,CAAEP,gBAAgB,M,gCAGxBQ,GACR,IAAIC,EAAS,EAOb,OANI1K,KAAKtD,MAAMgG,KAAKF,MAAQ,IAC1BkI,EAAS,EACA1K,KAAKtD,MAAMgG,KAAKF,MAAQ,MACjCkI,EAAS,GAEED,EAAIV,YACHW,IAAW,EAAID,EAAIvE,OAAO,OAAS,S,iCAGxChK,EAAgBqI,GAAyB,IAAD,OAC3CoG,EAAOrC,KAAM,cACnB,OACE,yBAAK7H,UAAU,uBACb,yBAAKA,UAAU,yBACf,yBACEA,UAAU,4BACVuH,MAAO,CACL4C,UAAU,cAAD,OAA0B,IAAT1O,EAAgB,GAAjC,KACT6H,MAAM,sBAAD,OAAwBQ,EAAI,EAA5B,OAGN,YAAIpG,MAAM,IAAIyF,QAAQvG,KAAI,SAAAoC,GAAC,OAC1B,yBAAKM,IAAKN,EAAGgB,UAAU,cACrB,yBAAKA,UAAU,oBACZ,EAAKoK,UAAUF,EAAKpC,IAAI9I,EAAG,iB,mCAS7BvD,GACX,GAAkC,IAA9B8D,KAAKL,MAAMlD,QAAQT,OACrB,OAAO,8BAGT,IACM8O,EAAQ5O,EADD8D,KAAKL,MAAMlD,QAAQ,GAAGP,OAEnC,GAAc,IAAV4O,EACF,OAAO,8BAGT,IAAMC,EAAMD,EAAQ,EAAI,cAAe,eACvC,OACE,yBAAKrK,UAAWsK,EAAM,UAAtB,UACM1G,KAAK2G,IAAIF,GADf,aAC0BA,EAAQ,EAAI,QAAU,a,mCAKvC1N,EAAmBmH,GAC9B,IAAM0G,EAAc,CAAExK,UAAW,eAAgB,aAAc8D,GAC/D,OACE,yBAAK9D,UAAU,aAAaV,IAAK3C,EAAEnB,SACjC,yBAAKwE,UAAU,sCACb,4CAAYwK,EAAZ,CAAyBrK,QAASZ,KAAKmK,mBACrC,kBAAC,EAAD,OAEF,4CAAYc,EAAZ,CAAyBrK,QAASZ,KAAKkK,mBACrC,kBAAC,EAAD,QAGJ,yBAAKzJ,UAAU,uBACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,cAAcuH,MAAO,CAClCG,gBAAgB,sBAAD,OAAwB5D,EAAI,EAA5B,QAEjB,yBAAK9D,UAAU,eAAerD,EAAEnB,SAChC,4CAAYgP,EAAZ,CAAyBrK,QAASZ,KAAKnF,eACrC,kBAAC,GAAD,QAGHmF,KAAKkL,aAAa9N,EAAElB,SAEtB8D,KAAKmL,WAAW/N,EAAElB,OAAQqI,GAC3B,yBAAK9D,UAAU,uCACb,4CAAYwK,EAAZ,CAAyBrK,QAASZ,KAAKoK,sBACrC,kBAAC,EAAD,OAEF,4CAAYa,EAAZ,CAAyBrK,QAASZ,KAAKqK,sBACrC,kBAAC,EAAD,W,wCAQR,OACE,yBAAKnK,GAAG,aAAaO,UAAU,cAC7B,4BAAQA,UAAU,kBAAkBG,QAASZ,KAAKsK,oBAChD,kBAAC,GAAD,MACA,0D,+BAMe,IAAD,OACpB,OACE,kBAAC,KAAD,CACEnE,QAAM,EACNC,SAAU,SAAAhJ,GAAOA,EAAE+I,QAAU,EAAKqE,SAAS,CAAC9H,KAAMtF,EAAE+I,YAEnD,gBAAGE,EAAH,EAAGA,WAAH,OACC,yBAAKnG,GAAG,SAASoG,IAAKD,GACpB,6BACC,EAAK1G,MAAMlD,QAAQY,KAAI,SAACD,EAAGmH,GAAJ,OAAU,EAAK6G,aAAahO,EAAGmH,MACtD,EAAK7H,MAAMuN,eACV,kBAACtB,GAAD,CAAWC,UAAW,kBAAM,EAAK2B,2BAEjC,EAAKc,0B,GAtLCxM,IAAMC,eAsMXsC,gBAPS,SAAC1E,GAAD,MAAsB,CAC5CD,QAASC,EAAMD,YAGU,SAAC4E,GAAD,OACzBC,YAAmB,CAAE5G,YAAWG,eAAcG,eAAeqG,KAEhDD,CAA6C4I,IC7N/CsB,I,OAAgB,WAAO,IAAD,EACX/I,mBAAShF,OAAM,SAAagO,MADjB,mBACrBC,GADqB,WAOjC,OAJAhC,qBAAU,WACRgC,EAAOjO,OAAM,SAAagO,QACzB,CAAChO,OAAM,SAAagO,OAGrB,6BACE,uBACEvD,MAAO,CAAEyD,QAAS,QAClBF,KAAK,gDACL9K,UAAU,wBACViL,kBAAgB,SAJlB,YC2CSC,OA7Cf,WACE,OACE,yBAAKzL,GAAG,eACN,yBAAKA,GAAG,YAAYO,UAAU,OAC5B,yBAAKA,UAAU,kBACb,wBAAIP,GAAG,cAAP,oCACA,wBAAIA,GAAG,iBAAP,8DAGA,yBAAKO,UAAU,WACb,yBAAKP,GAAG,oBACR,kBAAC,GAAD,SAIN,kBAAC,GAAD,MACA,yBAAKO,UAAU,SACb,yBAAKA,UAAU,cACb,kBAAC,GAAD,OAEF,kBAAC,GAAD,OAEF,gCACE,sCACU,uBAAG8K,KAAM,mCAAT,gBAA6D,IADvE,OAEM,uBAAGA,KAAM,oCAAT,iBAA+D,IAFrE,wBAGwB,IACtB,uBAAGA,KAAM,0CAAT,qBAJF,KAUA,iDACsB,IACpB,uBAAGA,KAAM,uCAAT,UAFF,mCAMA,oECpCYK,QACW,cAA7BrO,OAAOO,SAAS+N,UAEe,UAA7BtO,OAAOO,SAAS+N,UAEhBtO,OAAOO,SAAS+N,SAASC,MACvB,2D,cCNNC,IAASC,OACP,kBAAC,IAAD,CAAUC,MAAOC,aVkBJ,WAA8D,IAArDxP,EAAoD,uDAAlCkB,IAAauO,EAAqB,uCAC1E,OAAQA,EAAOlS,MACb,KAAKmS,EAA0BlS,aAC7B,OAAOF,EAAY0C,GACrB,KAAK0P,EAA0B/R,YAC7B,OAAOF,EAAWuC,EAAOyP,EAAO7R,MAClC,KAAK8R,EAA0B3R,YAC7B,OAAOF,EAAWmC,EAAOyP,EAAO7R,MAClC,KAAK8R,EAA0BC,YAC7B,OAAOxP,EAAWH,EAAOyP,EAAO7R,MAClC,KAAK8R,EAA0BxR,WAC7B,OAAOF,EAAUgC,EAAOyP,EAAO7R,MACjC,KAAK8R,EAA0BrR,cAC7B,OAAOF,EAAa6B,EAAOyP,EAAO7R,MACpC,KAAK8R,EAA0BnR,aAC7B,OAAOD,EAAY0B,EAAOyP,EAAO7R,KAAKQ,MAAOqR,EAAO7R,KAAKF,IAC3D,QACE,OAAOsC,OUlCT,kBAAC,GAAD,OAEF4P,SAASC,eAAe,SD2HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL5D,QAAQ4D,MAAMA,EAAMC,a","file":"static/js/main.9e801cf5.chunk.js","sourcesContent":["import { IRegion } from \"./region\";\n\nexport enum EReduxActionTypes {\n  TOGGLE_SCALE = \"toggle_scale\",\n  CHANGE_ZOOM = \"change_zoom\",\n  CHANGE_MODE = \"change_mode\",\n  SET_REGIONS = \"set_regions\",\n  ADD_REGION = \"add_region\",\n  REMOVE_REGION = \"remove_region\",\n  SHIFT_REGION = \"shift_region\"\n}\n\nexport interface IReduxBaseAction {\n  type: EReduxActionTypes;\n}\n\nexport interface IReduxToggleScaleAction extends IReduxBaseAction {\n  type: EReduxActionTypes.TOGGLE_SCALE;\n}\n\nexport function toggleScale(): IReduxToggleScaleAction {\n  return { type: EReduxActionTypes.TOGGLE_SCALE };\n}\n\nexport interface IReduxChangeZoomAction extends IReduxBaseAction {\n  type: EReduxActionTypes.CHANGE_ZOOM;\n  data: number;\n}\n\nexport function changeZoom(by: number): IReduxChangeZoomAction {\n  return { type: EReduxActionTypes.CHANGE_ZOOM, data: by };\n}\n\nexport interface IReduxChangeModeAction extends IReduxBaseAction {\n  type: EReduxActionTypes.CHANGE_MODE;\n  data: string;\n}\n\nexport function changeMode(to: string): IReduxChangeModeAction {\n  return { type: EReduxActionTypes.CHANGE_MODE, data: to };\n}\n\nexport interface IReduxSetRegionsAction extends IReduxBaseAction {\n  type: EReduxActionTypes.SET_REGIONS;\n  data: IRegion[];\n}\n\nexport function setRegions(regions: IRegion[]): IReduxSetRegionsAction {\n  return { type: EReduxActionTypes.SET_REGIONS, data: regions };\n}\n\nexport interface IReduxAddRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.ADD_REGION;\n  data: string;\n}\n\nexport function addRegion(name: string): IReduxAddRegionAction {\n  return { type: EReduxActionTypes.ADD_REGION, data: name };\n}\n\nexport interface IReduxRemoveRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.REMOVE_REGION;\n  data: number;\n}\n\nexport function removeRegion(index: number): IReduxRemoveRegionAction {\n  return { type: EReduxActionTypes.REMOVE_REGION, data: index };\n}\n\nexport interface IReduxShiftRegionAction extends IReduxBaseAction {\n  type: EReduxActionTypes.SHIFT_REGION;\n  data: { index: number, by: number };\n}\n\nexport function shiftRegion(index: number, by: number): IReduxShiftRegionAction {\n  return { type: EReduxActionTypes.SHIFT_REGION, data: { index, by } };\n}\n\nexport type ReduxAction =\n  | IReduxToggleScaleAction\n  | IReduxChangeModeAction\n  | IReduxChangeZoomAction\n  | IReduxSetRegionsAction\n  | IReduxAddRegionAction\n  | IReduxRemoveRegionAction\n  | IReduxShiftRegionAction;\n","import TotalDeaths from \"../data/total-deaths-covid-19-who.json\";\nimport DailyDeaths from \"../data/daily-deaths-covid-19-who.json\";\nimport TotalCases from \"../data/total-cases-covid-19-who.json\";\nimport DailyCases from \"../data/daily-cases-covid-19-who.json\";\n\nexport enum EMode {\n  TotalCases = \"tc\",\n  DailyCases = \"dc\",\n  TotalDeaths = \"td\",\n  DailyDeaths = \"dd\"\n}\n\ntype DataRow = { country: string; code: string; year: number; cases: number };\nexport const ModeToAllCountryData: Record<EMode, DataRow[]> = {\n  [EMode.TotalCases]: TotalCases,\n  [EMode.DailyCases]: DailyCases,\n  [EMode.TotalDeaths]: TotalDeaths,\n  [EMode.DailyDeaths]: DailyDeaths\n};\n\nexport const all: EMode[] = [\n  EMode.TotalCases,\n  EMode.DailyCases,\n  EMode.TotalDeaths,\n  EMode.DailyDeaths\n];\n\nexport function toString(mode: EMode): string {\n  switch (mode) {\n    case EMode.TotalCases:\n      return \"Total Cases\";\n    case EMode.DailyCases:\n      return \"Daily Cases\";\n    case EMode.TotalDeaths:\n      return \"Total Deaths\";\n    case EMode.DailyDeaths:\n      return \"Daily Deaths\";\n  }\n}\n","import qs from \"query-string\";\n\nimport * as actions from \"./actions\";\nimport { ReduxAction } from \"./actions\";\nimport * as mode from \"./mode\";\nimport * as region from \"./region\";\nimport { IRegion } from \"./region\";\n\nexport enum EScale {\n  Linear = \"linear\",\n  Log = \"log\"\n}\n\nexport interface AppState {\n  scale: EScale;\n  zoom: number;\n  mode: mode.EMode;\n  regions: region.IRegion[];\n}\n\nconst defaultState: AppState = {\n  scale: EScale.Linear,\n  zoom: 3,\n  mode: mode.EMode.TotalCases,\n  regions: [\n    { country: \"United States\", offset: -39 },\n    { country: \"Italy\", offset: -28 },\n    { country: \"South Korea\", offset: -24 }\n  ]\n};\n\nexport default function(state: AppState = loadState(), action: ReduxAction) {\n  switch (action.type) {\n    case actions.EReduxActionTypes.TOGGLE_SCALE:\n      return toggleScale(state);\n    case actions.EReduxActionTypes.CHANGE_ZOOM:\n      return changeZoom(state, action.data);\n    case actions.EReduxActionTypes.CHANGE_MODE:\n      return changeMode(state, action.data);\n    case actions.EReduxActionTypes.SET_REGIONS:\n      return setRegions(state, action.data);\n    case actions.EReduxActionTypes.ADD_REGION:\n      return addRegion(state, action.data);\n    case actions.EReduxActionTypes.REMOVE_REGION:\n      return removeRegion(state, action.data);\n    case actions.EReduxActionTypes.SHIFT_REGION:\n      return shiftRegion(state, action.data.index, action.data.by);\n    default:\n      return state;\n  }\n}\n\nfunction toggleScale(state: AppState): AppState {\n  return persistedState({\n    ...state,\n    scale: state.scale === EScale.Linear ? EScale.Log : EScale.Linear\n  });\n}\n\nfunction changeZoom(state: AppState, data: number): AppState {\n  let zoom = state.zoom + data;\n  if (zoom > 5) {\n    zoom = 5;\n  } else if (zoom < 1) {\n    zoom = 1;\n  }\n  return persistedState({ ...state, zoom });\n}\n\nfunction changeMode(state: AppState, to: string): AppState {\n  return persistedState({ ...state, mode: to as mode.EMode });\n}\n\nfunction setRegions(state: AppState, regions: IRegion[]): AppState {\n  return persistedState({ ...state, regions });\n}\n\nfunction addRegion(state: AppState, name: string): AppState {\n  let regions = [...state.regions];\n  regions.push({ country: name, offset: -30 });\n  return persistedState({ ...state, regions });\n}\n\nfunction removeRegion(state: AppState, index: number): AppState {\n  let regions = [...state.regions];\n  regions.splice(index, 1);\n  return persistedState({ ...state, regions });\n}\n\nfunction shiftRegion(state: AppState, index: number, by: number): AppState {\n  let regions = [...state.regions];\n  regions[index] = { ...regions[index], offset: regions[index].offset + by };\n  return persistedState({ ...state, regions });\n}\n\nfunction persistedState(state: AppState): AppState {\n  let query = {\n    s: state.scale,\n    z: state.zoom,\n    m: state.mode,\n    r: state.regions.map(r => region.toString(r))\n  };\n  window.history.replaceState(null, \"\", \"?\" + qs.stringify(query));\n  return state;\n}\n\nfunction loadState(): AppState {\n  const query = qs.parse(window.location.search);\n  let state = { ...defaultState };\n\n  if (Object.values(EScale).includes(query.s as EScale)) {\n    state.scale = query.s as EScale;\n  }\n  if (Object.values(mode.EMode).includes(query.m as mode.EMode)) {\n    state.mode = query.m as mode.EMode;\n  }\n  if (Array.isArray(query.r)) {\n    state.regions = query.r.map(r => region.fromString(r));\n  } else if (query.r) {\n    state.regions = [region.fromString(query.r)];\n  }\n\n  return state;\n}\n","export interface IRegion {\n  country: string;\n  offset: number;\n}\n\nexport function toString(region: IRegion): string {\n  return `${region.country},${region.offset}`;\n}\n\nexport function fromString(str: string): IRegion {\n  let region = { country: \"United States\", offset: 0 };\n\n  const parts = str.split(\",\");\n  if (parts.length === 0) {\n    return region;\n  }\n\n  const [country, _offset] = parts;\n  return {\n    country,\n    offset: parseInt(_offset) || 0\n  };\n}\n","import React from \"react\";\n\nexport class ChevronLeft extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"15 18 9 12 15 6\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronRight extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"9 18 15 12 9 6\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronsLeft extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"11 17 6 12 11 7\"/>\n        <polyline points=\"18 17 13 12 18 7\"/>\n      </svg>\n    );\n  }\n}\n\nexport class ChevronsRight extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"13 17 18 12 13 7\"/>\n        <polyline points=\"6 17 11 12 6 7\"/>\n      </svg>\n    );\n  }\n}\n\nexport class PlusSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/>\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/>\n      </svg>\n    );\n  }\n}\n\nexport class MinusSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/>\n      </svg>\n    );\n  }\n}\n\nexport class TrashSign extends React.PureComponent {\n  render(): JSX.Element {\n    return (\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"\n        strokeLinecap=\"round\" strokeLinejoin=\"round\">\n        <polyline points=\"3 6 5 6 21 6\"/>\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\n        <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"/>\n        <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"/>\n      </svg>\n    );\n  }\n}\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\n\nimport { changeMode, changeZoom, toggleScale } from \"./redux/actions\";\nimport * as mode from \"./redux/mode\";\nimport { AppState, EScale } from \"./redux/reducers\";\nimport { PlusSign, MinusSign } from \"./svg\";\n\nimport \"./chart-control.css\";\n\ntype TChartControlProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nclass ChartControl extends React.PureComponent<TChartControlProps, {}> {\n  constructor(props: TChartControlProps) {\n    super(props);\n\n    this.changeMode = this.changeMode.bind(this);\n    this.zoomIn = this.zoomIn.bind(this);\n    this.zoomOut = this.zoomOut.bind(this);\n    this.toggleScale = this.toggleScale.bind(this);\n  }\n\n  changeMode(key: string) {\n    this.props.changeMode(key);\n  }\n\n  renderModePicker(): JSX.Element {\n    return (\n      <Dropdown id=\"mode-control\" onSelect={this.changeMode}>\n        <Dropdown.Toggle variant=\"light\" id=\"mode-dropdown\">\n          {mode.toString(this.props.mode)}\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          {mode.all.map(m => (\n            <Dropdown.Item key={m} eventKey={m}>\n              {mode.toString(m)}\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n\n  zoomOut() {\n    this.props.changeZoom(-1);\n  }\n\n  zoomIn() {\n    this.props.changeZoom(1);\n  }\n\n  renderZoomControl(): JSX.Element {\n    return (\n      <div id=\"zoom-control\" className=\"btn-group\" aria-label=\"Zoom\">\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-light\"\n          disabled={this.props.zoom === 1}\n          onClick={this.zoomOut}\n        >\n          <MinusSign />\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-light\"\n          disabled={this.props.zoom === 5}\n          onClick={this.zoomIn}\n        >\n          <PlusSign />\n        </button>\n      </div>\n    );\n  }\n\n  toggleScale(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      if (e.target.dataset[\"key\"] !== this.props.scale) {\n        this.props.toggleScale();\n      }\n    }\n  }\n\n  renderScaleToggle(): JSX.Element {\n    const baseClass = \"btn btn-link btn-sm\";\n    return (\n      <div id=\"scale-toggle\" className=\"btn-group\" aria-label=\"Scale\">\n        {[EScale.Linear, EScale.Log].map(s => (\n          <button\n            key={s}\n            data-key={s}\n            type=\"button\"\n            className={baseClass + (this.props.scale === s ? \" selected\" : \"\")}\n            onClick={this.toggleScale}\n          >\n            {s}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <div id=\"chart-control\" className=\"baseline-flex\">\n        {this.renderModePicker()}\n        <div className=\"baseline-flex\">\n          {this.renderScaleToggle()}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  zoom: state.zoom,\n  mode: state.mode,\n  scale: state.scale\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ changeMode, changeZoom, toggleScale }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChartControl);\n","import dayjs from \"dayjs\";\nimport { max } from \"d3-array\";\nimport React from \"react\";\nimport Measure, { BoundingRect } from \"react-measure\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { format } from \"d3-format\";\n\nimport { AxisLeft } from \"@vx/axis\";\nimport { Grid } from \"@vx/grid\";\nimport { Bar, Line, LinePath } from \"@vx/shape\";\nimport { curveMonotoneX } from \"@vx/curve\";\nimport { scaleLinear, scaleLog } from \"@vx/scale\";\nimport { Tooltip, withTooltip } from \"@vx/tooltip\";\nimport { WithTooltipProvidedProps } from \"@vx/tooltip/lib/enhancers/withTooltip\";\nimport { localPoint } from \"@vx/event\";\n\nimport { ModeToAllCountryData } from \"./redux/mode\";\nimport { AppState, EScale } from \"./redux/reducers\";\n\nimport \"./vx.css\";\n\nconst range = (n: number): number[] => Array.from(Array(n).keys());\nconst logTicks = new Set([1, 10, 100, 1000, 10000, 100000]);\n\ninterface IVXDataPoint {\n  date: number;\n  value: number;\n}\n\ninterface IVXDataSeries {\n  name: string;\n  color: string;\n  offset: number;\n  points: IVXDataPoint[];\n}\n\nconst x = (d: IVXDataPoint) => d.date;\nconst y = (d: IVXDataPoint) => d.value;\n\ninterface IVXProps {}\n\nexport interface IVXMarginShape {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n}\n\ninterface IVXProvidedProps {\n  margin?: IVXMarginShape;\n  events?: boolean;\n}\n\ninterface IVXTooltipData {\n  name: string;\n  color: string;\n  offset: number;\n  date: number;\n  value: number;\n  y: number;\n}\n\ntype TVXProps = IVXProps &\n  IVXProvidedProps &\n  ReturnType<typeof mapStateToProps>;\n\nconst DAYS_TO_SHOW = 17;\n\nconst VX = withTooltip<TVXProps, IVXTooltipData[]>(\n  ({\n    margin = { top: 0, right: 0, bottom: 0, left: 0 },\n    showTooltip,\n    hideTooltip,\n    tooltipData,\n    tooltipTop = 0,\n    tooltipLeft = 0,\n    mode,\n    scale,\n    regions\n  }: TVXProps & WithTooltipProvidedProps<IVXTooltipData[]>) => {\n    const [dims, setDims] = React.useState<BoundingRect>({\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n      width: 100,\n      height: 100\n    });\n\n    const xMax = dims.width - margin.left - margin.right;\n    const yMax = dims.height - margin.top - margin.bottom;\n\n    const vxData: IVXDataSeries[] = [];\n    const allCountryData = ModeToAllCountryData[mode];\n\n    regions.forEach(({ country, offset }, idx) => {\n      const countryData = allCountryData.filter(\n        countryRow => countryRow.country === country\n      );\n\n      const dayToCases = _.fromPairs(\n        _.map(countryData, ({ cases, year }) => [year, cases])\n      );\n\n      const points = range(DAYS_TO_SHOW)\n        .map(idx => ({\n          date: idx,\n          value: dayToCases[idx - offset] || 0\n        }))\n        .filter(point => point.value !== null && point.value !== 0);\n\n      vxData.push({\n        name: country,\n        color: `var(--series-color-${vxData.length % 6})`,\n        offset,\n        points\n      });\n    });\n\n    const tooltipShifter = (data: IVXTooltipData[]): IVXTooltipData[] => {\n      if (data.length < 2) {\n        return data;\n      }\n\n      data = data.sort((a, b) => (a.y > b.y) ? 1 : -1);\n      const middle = Math.floor(data.length / 2);\n\n      if (data[middle].y - data[middle - 1].y < 50) {\n        data[middle].y = data[middle].y + 25;\n        data[middle - 1].y = data[middle - 1].y - 25;\n      }\n\n      for (let i = middle - 2; i >= 0; i--) {\n        if (data[i + 1].y - data[i].y < 50) {\n          data[i].y = data[i + 1].y - 50;\n        }\n      }\n\n      for (let i = middle + 1; i < data.length; i++) {\n        if (data[i].y - data[i - 1].y < 50) {\n          data[i].y = data[i - 1].y + 50;\n        }\n      }\n\n      return data;\n    }\n\n    const handleTooltip = (\n      event: React.TouchEvent<SVGRectElement> | React.MouseEvent<SVGRectElement>\n    ) => {\n      const xValue = localPoint(event)?.x || 0;\n      const index = Math.round(xScale.invert(xValue));\n\n      let tooltipData: IVXTooltipData[] = [];\n      for (let i = 0; i < vxData.length; i++) {\n        const currentData = vxData[i];\n        const { name, color, offset } = currentData;\n        const date = index;\n\n        const matchingPoint = currentData.points.find(\n          point => point.date === date\n        );\n        if (!matchingPoint) {\n          continue;\n        }\n\n        const value = matchingPoint.value;\n\n        tooltipData.push({\n          name,\n          color,\n          offset,\n          date: index,\n          value,\n          y: yScale(value)\n        });\n      }\n\n      showTooltip({\n        tooltipData: tooltipShifter(tooltipData),\n        tooltipLeft: xScale(index),\n        tooltipTop: 0\n      });\n    };\n\n    const xScale = scaleLinear({\n      range: [0, dims.width],\n      domain: [0, DAYS_TO_SHOW - 1]\n    });\n\n    let maxY = 0;\n    for (let i = 0; i < vxData.length; i++) {\n      maxY = Math.max(max(vxData[i].points, y) || 0, maxY);\n    }\n    let yScale = scaleLinear({\n      range: [dims.height, 0],\n      domain: [0, maxY],\n      nice: true\n    });\n    if (scale === EScale.Log) {\n      yScale = scaleLog({\n        range: [dims.height, 0],\n        domain: [1, maxY],\n        nice: true\n      });\n    }\n\n    const common = {\n      x: (d: IVXDataPoint) => xScale(x(d)),\n      y: (d: IVXDataPoint) => yScale(y(d)),\n      curve: curveMonotoneX\n    };\n\n    const logFormat = (n: number | { valueOf(): number; }, i: number) => {\n      let value = typeof n === \"number\" ? n : n.valueOf();\n      return logTicks.has(value) ? format(\".2s\")(n) : \"\";\n    };\n    const axisFormat = scale === EScale.Log ? logFormat : format(\".2s\");\n\n    return (\n      <Measure\n        bounds\n        onResize={r => {\n          r.bounds && setDims(r.bounds);\n        }}\n      >\n        {({ measureRef }) => (\n          <div ref={measureRef}>\n            <svg width={dims.width} height={300}>\n              <AxisLeft\n                top={margin.top}\n                left={0}\n                scale={yScale}\n                hideZero\n                numTicks={5}\n                tickFormat={axisFormat}\n                tickStroke=\"transparent\"\n                stroke=\"transparent\"\n                tickLabelProps={() => ({\n                  fill: \"var(--gray)\",\n                  textAnchor: \"end\",\n                  fontSize: 10,\n                  dx: \"0em\",\n                  dy: \"0.25em\"\n                })}\n                tickComponent={({ formattedValue, ...tickProps }) => (\n                  <text {...tickProps}>{formattedValue}</text>\n                )}\n              />\n              <Grid\n                top={margin.top}\n                left={margin.left}\n                xScale={xScale}\n                yScale={yScale}\n                stroke=\"var(--gray)\"\n                opacity={0.1}\n                width={xMax}\n                height={yMax}\n                numTicksRows={5}\n                numTicksColumns={10}\n              />\n              {vxData.map(d => (\n                <LinePath\n                  key={d.name}\n                  stroke={d.color}\n                  strokeWidth={3}\n                  {...common}\n                  data={d.points}\n                />\n              ))}\n              <Bar\n                x={0}\n                y={0}\n                width={dims.width}\n                height={300}\n                fill=\"transparent\"\n                onTouchStart={handleTooltip}\n                onTouchMove={handleTooltip}\n                onMouseEnter={handleTooltip}\n                onMouseMove={handleTooltip}\n                onMouseLeave={hideTooltip}\n              />\n              {tooltipData && (\n                <g>\n                  <Line\n                    from={{ x: tooltipLeft, y: 0 }}\n                    to={{ x: tooltipLeft, y: 10000 }}\n                    stroke=\"var(--gray)\"\n                    strokeWidth={1}\n                    style={{ pointerEvents: \"none\" }}\n                    strokeDasharray=\"2,2\"\n                  />\n                </g>\n              )}\n            </svg>\n            {tooltipData && (\n              <div>\n                {tooltipData.map(d => {\n                  let style = {\n                    color: d.color,\n                    backgroundColor: \"transparent\",\n                    boxShadow: \"none\"\n                  };\n                  if (d.date > 10) {\n                    style[\"transform\"] = \"translateX(-100%)\";\n                    style[\"textAlign\"] = \"right\";\n                  }\n                  return (\n                    <Tooltip\n                      key={d.name}\n                      top={d.y - 30}\n                      left={tooltipLeft}\n                      style={style}\n                    >\n                      <div className=\"tooltip-desc\">\n                        <b>{`${d.name}`}</b>\n                        <span>{`- ${dayjs(\"2020-01-21\")\n                          .add(d.date - d.offset, \"day\")\n                          .format(\"MMM D\")}`}</span>\n                      </div>\n                      <div className=\"tooltip-value\">{`${d.value}`}</div>\n                    </Tooltip>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        )}\n      </Measure>\n    );\n  }\n);\n\nconst mapStateToProps = (state: AppState) => ({\n  regions: state.regions,\n  zoom: state.zoom,\n  scale: state.scale,\n  mode: state.mode\n});\n\nexport default connect(mapStateToProps)(VX);\n","import algoliasearch from \"algoliasearch/lite\";\nimport * as svg from \"./svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\nimport { addRegion } from \"./redux/actions\";\nimport \"./AddCountry.css\";\n\nconst searchClient = algoliasearch(\n  \"ZOOMT5L4JY\",\n  \"43a938b4fe4feea7874320d044a19bc5\"\n);\nconst searchIndex = searchClient.initIndex(\"covid\");\n\nexport const _AddRegion = ({\n  onSuccess,\n  addRegion\n}: {\n  onSuccess: () => void;\n  addRegion: (region: string) => void;\n}) => {\n  const [q, setQ] = useState(\"\");\n  const [suggestions, setSuggestions] = useState<string[]>([]);\n\n  const getSuggestions = async (q: string) => {\n    const { hits } = await searchIndex.search(q);\n    console.log(hits);\n    // @ts-ignore\n    const _suggestions = hits.map(hit => hit.name).slice(0, 5);\n\n    setSuggestions(_suggestions);\n  };\n\n  useEffect(() => {\n    getSuggestions(q);\n  }, [q]);\n\n  return (\n    <div id=\"region-input-row\" className=\"region-row\">\n      <div className=\"region-name-wrapper\">\n        <input\n          value={q}\n          onChange={e => setQ(e.target.value)}\n          className=\"form-control\"\n          style={{ maxWidth: 200 }}\n          type=\"text\"\n          autoFocus={true}\n          placeholder=\"Country or region\"\n        />\n\n        <button\n          className=\"btn btn-link\"\n          onClick={() => onSuccess()}\n          style={{ color: \"gray\" }}\n        >\n          <svg.TrashSign />\n        </button>\n      </div>\n      <div className=\"autocomplete\">\n        {suggestions.map(suggestion => (\n          <div\n            key={suggestion}\n            className={\"btn btn-link\"}\n            onClick={() => {\n              addRegion(suggestion);\n              onSuccess();\n            }}\n          >\n            {suggestion}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ addRegion }, dispatch);\n\nexport const AddRegion = connect(null, mapDispatchToProps)(_AddRegion);\n","import dayjs from \"dayjs\";\nimport dayOfYear from \"dayjs/plugin/dayOfYear\";\nimport React from \"react\";\nimport Measure, { BoundingRect } from \"react-measure\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, bindActionCreators, Dispatch } from \"redux\";\n\nimport { addRegion, removeRegion, shiftRegion } from \"./redux/actions\";\nimport { AppState } from \"./redux/reducers\";\nimport * as region from \"./redux/region\";\nimport { AddRegion } from \"./AddCountry\";\nimport * as svg from \"./svg\";\n\nimport \"./x-axis.css\";\n\ndayjs.extend(dayOfYear);\n\ntype TXAxisProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\ninterface IXAxisState {\n  enteringRegion: boolean;\n  dims: BoundingRect;\n}\n\nclass XAxis extends React.PureComponent<TXAxisProps, IXAxisState> {\n  constructor(props: TXAxisProps) {\n    super(props);\n\n    this.state = {\n      enteringRegion: false,\n      dims: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        width: 1000,\n        height: 1000\n      }\n    };\n    this.addRegion = this.addRegion.bind(this);\n    this.removeRegion = this.removeRegion.bind(this);\n    this.shiftRegionBack1 = this.shiftRegionBack1.bind(this);\n    this.shiftRegionBack5 = this.shiftRegionBack5.bind(this);\n    this.shiftRegionForward1 = this.shiftRegionForward1.bind(this);\n    this.shiftRegionForward5 = this.shiftRegionForward5.bind(this);\n    this.showNewRegionInput = this.showNewRegionInput.bind(this);\n    this.dismissNewRegionInput = this.dismissNewRegionInput.bind(this);\n  }\n\n  addRegion(e: React.KeyboardEvent<HTMLElement>) {\n    console.log(e);\n  }\n\n  removeRegion(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.removeRegion(parseInt(e.target.dataset[\"index\"]!));\n    }\n  }\n\n  shiftRegionBack1(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), -1);\n    }\n  }\n\n  shiftRegionBack5(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), -5);\n    }\n  }\n\n  shiftRegionForward1(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), 1);\n    }\n  }\n\n  shiftRegionForward5(e: React.MouseEvent<HTMLElement>) {\n    if (e.target instanceof HTMLElement) {\n      this.props.shiftRegion(parseInt(e.target.dataset[\"index\"]!), 5);\n    }\n  }\n\n  showNewRegionInput() {\n    this.setState({ enteringRegion: true });\n  }\n\n  dismissNewRegionInput() {\n    this.setState({ enteringRegion: false });\n  }\n\n  dayString(day: dayjs.Dayjs): string {\n    let modulo = 2;\n    if (this.state.dims.width < 500) {\n      modulo = 4;\n    } else if (this.state.dims.width < 700) {\n      modulo = 3;\n    }\n    const date = day.dayOfYear();\n    return date % modulo === 0 ? day.format(\"M/D\") : \"Â·\";\n  }\n\n  renderDays(offset: number, i: number): JSX.Element {\n    const zero = dayjs(\"2020-01-21\");\n    return (\n      <div className=\"region-days-wrapper\">\n        <div className=\"region-days-gradient\" />\n        <div\n          className=\"region-days baseline-flex\"\n          style={{\n            transform: `translateX(${(offset * 100) / 16}%`,\n            color: `var(--series-color-${i % 6})`,\n          }}\n        >\n          {[...Array(60).keys()].map(d => (\n            <div key={d} className=\"region-day\">\n              <div className=\"region-day-inner\">\n                {this.dayString(zero.add(d, \"day\"))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  renderOffset(offset: number): JSX.Element {\n    if (this.props.regions.length === 0) {\n      return <div/>;\n    }\n\n    const base = this.props.regions[0].offset;\n    const delta = offset - base;\n    if (delta === 0) {\n      return <div/>;\n    }\n\n    const cls = delta > 0 ? \"delta-ahead\": \"delta-behind\";\n    return (\n      <div className={cls + \" delta\"}>\n        {`${Math.abs(delta)}d ${delta > 0 ? \"ahead\" : \"behind\"}`}\n      </div>\n    );\n  }\n\n  renderRegion(r: region.IRegion, i: number): JSX.Element {\n    const buttonAttrs = { className: \"btn btn-link\", \"data-index\": i };\n    return (\n      <div className=\"region-row\" key={r.country}>\n        <div className=\"region-shifter region-shifter-left\">\n          <button {...buttonAttrs} onClick={this.shiftRegionBack5}>\n            <svg.ChevronsLeft />\n          </button>\n          <button {...buttonAttrs} onClick={this.shiftRegionBack1}>\n            <svg.ChevronLeft />\n          </button>\n        </div>\n        <div className=\"region-name-wrapper\">\n          <div className=\"region-name-wrapper-inner\">\n            <div className=\"region-icon\" style={{\n              backgroundColor: `var(--series-color-${i % 6})`\n            }}/>\n            <div className=\"region-name\">{r.country}</div>\n            <button {...buttonAttrs} onClick={this.removeRegion}>\n              <svg.TrashSign />\n            </button>\n          </div>\n          {this.renderOffset(r.offset)}\n        </div>\n        {this.renderDays(r.offset, i)}\n        <div className=\"region-shifter region-shifter-right\">\n          <button {...buttonAttrs} onClick={this.shiftRegionForward1}>\n            <svg.ChevronRight />\n          </button>\n          <button {...buttonAttrs} onClick={this.shiftRegionForward5}>\n            <svg.ChevronsRight />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderAddRegion(): JSX.Element {\n    return (\n      <div id=\"add-region\" className=\"region-row\">\n        <button className=\"btn btn-primary\" onClick={this.showNewRegionInput}>\n          <svg.PlusSign />\n          <span>Add Country / Region</span>\n        </button>\n      </div>\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <Measure\n        bounds\n        onResize={r => { r.bounds && this.setState({dims: r.bounds}); }}\n      >\n        {({ measureRef }) => (\n          <div id=\"x-axis\" ref={measureRef}>\n            <hr />\n            {this.props.regions.map((r, i) => this.renderRegion(r, i))}\n            {this.state.enteringRegion ? (\n              <AddRegion onSuccess={() => this.dismissNewRegionInput()} />\n            ) : (\n              this.renderAddRegion()\n            )}\n          </div>\n        )}\n      </Measure>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  regions: state.regions\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) =>\n  bindActionCreators({ addRegion, removeRegion, shiftRegion }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(XAxis);\n","import React, { useEffect, useState } from \"react\";\n\nexport const TwitterButton = () => {\n  const [url, setUrl] = useState(window[\"location\"].href);\n\n  useEffect(() => {\n    setUrl(window[\"location\"].href);\n  }, [window[\"location\"].href]);\n\n  return (\n    <div>\n      <a\n        style={{ display: \"none\" }}\n        href=\"https://twitter.com/share?ref_src=twsrc%5Etfw\"\n        className=\" twitter-share-button\"\n        data-show-count=\"false\"\n      >\n        Tweet\n      </a>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport ChartControl from \"./chart-control\";\nimport VX from \"./vx\";\nimport XAxis from \"./x-axis\";\n\nimport \"./App.css\";\nimport { TwitterButton } from \"./TwitterButton\";\n\nfunction App() {\n  return (\n    <div id=\"app-wrapper\">\n      <div id=\"title-row\" className=\"row\">\n        <div className=\"col-12 mx-auto\">\n          <h1 id=\"page-title\">COVID Rules Everything Around Me</h1>\n          <h5 id=\"page-subtitle\">\n            Understand COVID growth rates between different countries.\n          </h5>\n          <div className=\"divider\">\n            <div id=\"title-separator\" />\n            <TwitterButton/>\n          </div>\n        </div>\n      </div>\n      <ChartControl />\n      <div className=\"chart\">\n        <div className=\"vx-wrapper\">\n          <VX />\n        </div>\n        <XAxis />\n      </div>\n      <footer>\n        <p>\n          Made by <a href={\"https://twitter.com/danqing_liu\"}>@danqing_liu</a>{\" \"}\n          and <a href={\"https://twitter.com/victorpontis\"}>@victorpontis</a>{\" \"}\n          with data pulled from{\" \"}\n          <a href={\"https://ourworldindata.org/coronavirus\"}>\n            Our World In Data\n          </a>\n          .\n        </p>\n\n        <p>\n          Explore the code in{\" \"}\n          <a href={\"https://github.com/danqing/covid19/\"}>Github</a>. Credit to\n          Algolia for search.\n        </p>\n\n        <p>Last updated on March 15 21:00 ET.</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\n\nimport reducers from \"./redux/reducers\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={createStore(reducers)}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}